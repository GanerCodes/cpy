import util

exec('from math import *')
del factorial, e, pi, tau, sqrt, cbrt
·êß1d45c·êß, ·êß1d451·êß, ·êß1d44f·êß, ·êß1d459·êß, ·êß1d461·êß, ·êß1d460·êß, ·îê, ·êß1d456·êß, ·êß1d453·êß = (object, dict, bool, list, tuple, set, str, int, float)
from py_naming_tools import py_escape_var as PEV
from functools import reduce
from itertools import starmap, filterfalse, product, accumulate, zip_longest
LITERAL_OPS_ = {'‚àß': lambda x, y, *·êß1d538·êß, **·êß1d542·êß: x and y, '‚à®': lambda x, y, *·êß1d538·êß, **·êß1d542·êß: x or y, '*': lambda x, y, *·êß1d538·êß, **·êß1d542·êß: x * y, '/': lambda x, y, *·êß1d538·êß, **·êß1d542·êß: x / y, '<': lambda x, y, *·êß1d538·êß, **·êß1d542·êß: x < y, '>': lambda x, y, *·êß1d538·êß, **·êß1d542·êß: x > y, '|': lambda x, y, *·êß1d538·êß, **·êß1d542·êß: x | y, '&': lambda x, y, *·êß1d538·êß, **·êß1d542·êß: x & y, '^': lambda x, y, *·êß1d538·êß, **·êß1d542·êß: x ^ y, '%': lambda x, y, *·êß1d538·êß, **·êß1d542·êß: x % y, '==': lambda x, y, *·êß1d538·êß, **·êß1d542·êß: x == y, '!=': lambda x, y, *·êß1d538·êß, **·êß1d542·êß: x != y, '<=': lambda x, y, *·êß1d538·êß, **·êß1d542·êß: x <= y, '>=': lambda x, y, *·êß1d538·êß, **·êß1d542·êß: x >= y, '//': lambda x, y, *·êß1d538·êß, **·êß1d542·êß: x // y, '**': lambda x, y, *·êß1d538·êß, **·êß1d542·êß: x ** y, '<<': lambda x, y, *·êß1d538·êß, **·êß1d542·êß: x << y, '>>': lambda x, y, *·êß1d538·êß, **·êß1d542·êß: x >> y, '+': lambda *·êß1d538·êß, **·êß1d542·êß: +v[0] if 1 == ·êß1f0cc·êß((v := ·êß1d563·êß(·êß1d538·êß))) else v[0] + v[1], '-': lambda *·êß1d538·êß, **·êß1d542·êß: -v[0] if 1 == ·êß1f0cc·êß((v := ·êß1d563·êß(·êß1d538·êß))) else v[0] - v[1], 'not': lambda *·êß1d538·êß, **·êß1d542·êß: not ·êß1d563·êß(·êß1d538·êß)[0], 'is': lambda x, y, *·êß1d538·êß, **·êß1d542·êß: x is y, 'is not': lambda x, y, *·êß1d538·êß, **·êß1d542·êß: x is not y, 'in': lambda x, y, *·êß1d538·êß, **·êß1d542·êß: x in y, 'not in': lambda x, y, *·êß1d538·êß, **·êß1d542·êß: x not in y}
getitem, setitem = (lambda x, y, *·êß1d538·êß, **·êß1d542·êß: x[y], lambda x, y, z, *·êß1d538·êß, **·êß1d542·êß: x.__setitem__(y, z))
setattr_ret_ = lambda x, y, z, w, *·êß1d538·êß, **·êß1d542·êß: setattr(y, z, w) or w
setitem_ret_ = lambda x, y, z, w, *·êß1d538·êß, **·êß1d542·êß: setitem(y, z, w) or w
OP_DUPER_ = lambda ∆í, *·êß1d538·êß, **·êß1d542·êß: lambda x, *·êß1d538·êß, **·êß1d542·êß: ∆í(x, x, *·êß1d538·êß, **·êß1d542·êß)
OP_SWAPA_ = lambda ∆í, *·êß1d538·êß, **·êß1d542·êß: lambda x, y, *·êß1d538·êß, **·êß1d542·êß: ∆í(y, x, *·êß1d538·êß, **·êß1d542·êß)
OP_LNULL_ = lambda ∆í, *·êß1d538·êß, **·êß1d542·êß: lambda x, *·êß1d538·êß, **·êß1d542·êß: ∆í(·êß2400·êß, x, *·êß1d538·êß, **·êß1d542·êß)
OP_RNULL_ = lambda ∆í, *·êß1d538·êß, **·êß1d542·êß: lambda x, *·êß1d538·êß, **·êß1d542·êß: ∆í(x, ·êß2400·êß, *·êß1d538·êß, **·êß1d542·êß)
OP_BSTAR_ = lambda ∆í, *·êß1d538·êß, **·êß1d542·êß: lambda x, *·êß1d538·êß, **·êß1d542·êß: ∆í(*x, *·êß1d538·êß, **·êß1d542·êß)
·êß2400·êß = NULL = ·êß1d45c·êß()
·êß2713·êß, ·êß2717·êß = (True, False)
·êß1d49e·êß·êß2133·êß, ·êß1d4ae·êß·êß2133·êß, ·êß1d5d9·êß = (classmethod, staticmethod, callable)
·óú = ·êß25a1·êß = None
œÄ = 3.141592653589793
·êß212f·êß = 2.718281828459045
√Æ = complex(0, 1)
·êß221e·êß, ·ê¶, œÑ = (inf, '', 2 * œÄ)
·êß2189·êß = 0
·êß00bd·êß, ·êß2153·êß, ·êß00bc·êß, ·êß2155·êß, ·êß2159·êß, ·êß2150·êß, ·êß215b·êß, ·êß2151·êß, ·êß2152·êß = (1 / 2, 1 / 3, 1 / 4, 1 / 5, 1 / 6, 1 / 7, 1 / 8, 1 / 9, 1 / 10)
·êß2154·êß, ·êß2156·êß = (2 / 3, 2 / 5)
·êß00be·êß, ·êß2157·êß, ·êß215c·êß = (3 / 4, 3 / 5, 3 / 8)
·êß2158·êß = 4 / 5
·êß215a·êß, ·êß215d·êß = (5 / 6, 5 / 8)
·êß215e·êß = 7 / 8
·êß1d55d·êß, ·êß1d563·êß = (lambda x, *·êß1d538·êß, **·êß1d542·êß: [*·êß1d538·êß] if x is ·êß2400·êß else [x], lambda x, *·êß1d538·êß, **·êß1d542·êß: ·êßf0232·êß(x, lambda x, *·êß1d538·êß, **·êß1d542·êß: x is not ·êß2400·êß))
is_iter = lambda x, *·êß1d538·êß, **·êß1d542·êß: hasattr(x, '__iter__')

class ·êß1d450·êß·êß1d451·êß(·êß1d451·êß):

    def __init__(·êß1d54a·êß, ∆í, *·êß1d538·êß, ·êß1d454·êß=·êß25a1·êß, **·êß1d542·êß):
        ·êß1d54a·êß.∆í, ·êß1d54a·êß.·êß1d454·êß = (∆í, ·êß1d454·êß)
        super().__init__(*·êß1d538·êß, **·êß1d542·êß)
    __call__ = lambda ·êß1d54a·êß, *·êß1d538·êß, **·êß1d542·êß: ·êß1d54a·êß.∆í(*·êß1d538·êß, **·êß1d542·êß)
    __repr__ = lambda ·êß1d54a·êß, *·êß1d538·êß, **·êß1d542·êß: ·êß1d54a·êß['__repr__'](·êß1d54a·êß) if '__repr__' in ·êß1d54a·êß else super().__repr__()
    __getitem__ = lambda ·êß1d54a·êß, x, *·êß1d538·êß, **·êß1d542·êß: super().__getitem__(x) if x in ·êß1d54a·êß else ·êß1d54a·êß.·êß1d454·êß(x)
·êß2b24·êß = ·êß1d45c·êß()

def ·êßf41e·êß(∆í):

    def ·êß1d4bb·êß(*·êß1d736·êß, **·êß1d73f·êß):

        def ·êß1d453·êß(*·êß1d538·êß, **·êß1d542·êß):
            ·êß1d4d0·êß, ·êß1d538·êß = (·êß1d459·êß(·êß1d736·êß), ·êß1d459·êß(·êß1d538·êß))
            ·êß1d4da·êß = ·êß1d459·êß(·êß1d73f·êß.items())
            a, k = ([], {})
            while ·êß1d4d0·êß:
                x = ·êß1d4d0·êß.pop(0)
                a.append(·êß1d538·êß.pop(0) if x == ·êß2b24·êß else x)
            while ·êß1d4da·êß:
                x, y = ·êß1d4da·êß.pop(0)
                k[x] = ·êß1d538·êß.pop(0) if y == ·êß2b24·êß else y
            return ∆í(*a + ·êß1d538·êß, **k | ·êß1d542·êß)
        return ·êß1d453·êß
    return ·êß1d4bb·êß
·êßf005·êß = ·êß1d450·êß·êß1d451·êß((t := (lambda ∆í, *·êß1d538·êß, **·êß1d542·êß: lambda *·êß1d538·êß, **·êß1d542·êß: ∆í(*Œ£(·êß1d538·êß, []), **·êß1d542·êß))), ·êß1d454·êß=t)

class ‚¥≥(·êß1d456·êß):
    __new__ = lambda ·êß2102·êß, *·êß1d538·êß, **·êß1d542·êß: ·êß1d456·êß.__new__(·êß2102·êß, 1)
    __call__, __repr__ = (lambda *·êß1d538·êß, **·êß1d542·êß: ‚¥≥, lambda ·êß1d54a·êß, *·êß1d538·êß, **·êß1d542·êß: '‚¥≥')

class ‚¥¥(·êß1d456·êß):
    __new__ = lambda ·êß2102·êß, *·êß1d538·êß, **·êß1d542·êß: ·êß1d456·êß.__new__(·êß2102·êß, 0)
    __call__, __repr__ = (lambda *·êß1d538·êß, **·êß1d542·êß: ‚¥¥, lambda ·êß1d54a·êß, *·êß1d538·êß, **·êß1d542·êß: '‚¥¥')
‚¥≥, ‚¥¥ = (‚¥≥(), ‚¥¥())

def _get_depths(x):
    if not is_iter(x):
        return {0}
    if ·êπ(x, ·îê):
        return {1}
    return {w + 1 for z in x for w in _get_depths(z)}

def _map_neg_d(x, y, n):
    if ·êπ(x, ·îê):
        return [y(z) for z in x] if not n else y(x) if n == 1 else x
    if 0 in (d := _get_depths(x)):
        return x if n else y(x)
    x = [_map_neg_d(z, y, n) for z in x]
    return y(x) if n in d else x

def _map_pos_d(x, y, i):
    if not i:
        return y(x)
    if ·êπ(x, ·îê):
        return [y(z) for z in x]
    return [_map_pos_d(z, y, i - 1) for z in x] if is_iter(x) else y(x)

def _map_d(x, y, n=1):
    if n < 0:
        return _map_neg_d(x, y, -n - 1)
    return _map_pos_d(x, y, 2 ** 24 if n == ·êß221e·êß else n)
·êßf0efe·êß = ·êß1d450·êß·êß1d451·êß(lambda x, *·êß1d538·êß, **·êß1d542·êß: x, ·êß1d454·êß=lambda x, *·êß1d538·êß, **·êß1d542·êß: ·êß1d450·êß·êß1d451·êß(lambda *·êß1d538·êß, **·êß1d542·êß: x, __repr__=lambda *·êß1d538·êß, **·êß1d542·êß: f'\U000f0efe[{x}]'), __repr__=lambda *·êß1d538·êß, **·êß1d542·êß: '\U000f0efe')

class ·êß221a·êß:
    __getitem__ = lambda ·êß1d54a·êß, x, *·êß1d538·êß, **·êß1d542·êß: lambda y, *·êß1d538·êß, **·êß1d542·êß: y ** (1 / x)
    __call__ = lambda ·êß1d54a·êß, x, *·êß1d538·êß, **·êß1d542·êß: x ** ·êß00bd·êß

def _window(·êß1d54f·êß, l=1, r=1, m=‚¥≥, s=·êß25a1·êß, Œî=1):
    (c := ·êß1f0cc·êß((·êß1d54f·êß := ·êß1d459·êß(·êß1d54f·êß))))
    if s is ·êß2400·êß:
        return ·¥ç(·êß2b65·êß(·êß1d54f·êß)[l:c - r:Œî], lambda x, *·êß1d538·êß, **·êß1d542·êß: ·êß1d54f·êß[x - l:x] + ·êß26f6·êß(·êß1d54f·êß[x]) * ·êß1d44f·êß(m) + ·êß1d54f·êß[x + 1:x + r + 1])
    V = ·êß26f6·êß(s) * l + ·êß1d54f·êß + ·êß26f6·êß(s) * r
    return ·¥ç(·êß2b65·êß(·êß1d54f·êß)[::Œî], lambda x, *·êß1d538·êß, **·êß1d542·êß: V[x:x + l] + ·êß26f6·êß(V[x + l]) * ·êß1d44f·êß(m) + V[x + l + 1:x + l + r + 1])

class ·êß1d44f·êß·êß1d454·êß:
    __getitem__ = lambda ·êß1d54a·êß, z, *·êß1d538·êß, **·êß1d542·êß: lambda x, y, *·êß1d538·êß, **·êß1d542·êß: ·êß1d54a·êß.∆í(x, y, z)
    __call__ = lambda ·êß1d54a·êß, *·êß1d538·êß, **·êß1d542·êß: ·êß1d54a·êß.∆í(*·êß1d538·êß)

class ·êß017f·êß(·êß1d44f·êß·êß1d454·êß):
    ∆í = ·êß1d4ae·êß·êß2133·êß(lambda x, y, z=·êß2400·êß, *·êß1d538·êß, **·êß1d542·êß: reduce(y, x, *(z,) * (z is not ·êß2400·êß)))

class œú(·êß1d44f·êß·êß1d454·êß):
    ∆í = ·êß1d4ae·êß·êß2133·êß(lambda x, y, z=·êß2400·êß, *·êß1d538·êß, **·êß1d542·êß: ·êß1d459·êß(accumulate(x, y, **{} if z == ·êß2400·êß else {'initial': z})))

class ·ôé(·êß1d44f·êß·êß1d454·êß):
    ∆í = ·êß1d4ae·êß·êß2133·êß(lambda x, y, z=·êß2400·êß, *·êß1d538·êß, **·êß1d542·êß: _window((h := ·êß1d563·êß(·êß22c4·êß(x, y)))[0], *(·êπ(y, ·êß1d456·êß) and ·êß22c4·êß(y, y) or y if ·êß1f0cc·êß(h) == 2 else ·êß22c4·êß(1, 1)), ‚¥¥, ·êß25a1·êß if z is ·êß2400·êß else z, 1))

class ·ô°(·êß1d44f·êß·êß1d454·êß):
    ∆í = ·êß1d4ae·êß·êß2133·êß(lambda x, y, z=·êß2400·êß, *·êß1d538·êß, **·êß1d542·êß: _window((h := ·êß1d563·êß(·êß22c4·êß(x, y)))[0], *(·êπ(y, ·êß1d456·êß) and ·êß22c4·êß(y, y) or y if ·êß1f0cc·êß(h) == 2 else ·êß22c4·êß(1, 1)), ‚¥≥, ·êß25a1·êß if z is ·êß2400·êß else z, 1))

class ·ó¢(·êß1d44f·êß·êß1d454·êß):
    ∆í = ·êß1d4ae·êß·êß2133·êß(lambda x, y, z=·êß2400·êß, *·êß1d538·êß, **·êß1d542·êß: _window((h := ·êß1d563·êß(·êß22c4·êß(x, y)))[0], *(·êπ(y, ·êß1d456·êß) and ·êß22c4·êß(y, y) or y if ·êß1f0cc·êß(h) == 2 else z is ·êß2400·êß and ·êß22c4·êß(1, 1) or ·êß22c4·êß(0, z)), ‚¥¥, ·êß2400·êß, z is ·êß2400·êß and 1 or z + 1))

class ·ôß(·êß1d44f·êß·êß1d454·êß):
    ∆í = ·êß1d4ae·êß·êß2133·êß(lambda x, y, z=·êß2400·êß, *·êß1d538·êß, **·êß1d542·êß: _window((h := ·êß1d563·êß(·êß22c4·êß(x, y)))[0], *(·êπ(y, ·êß1d456·êß) and ·êß22c4·êß(y, y) or y if ·êß1f0cc·êß(h) == 2 else z is ·êß2400·êß and ·êß22c4·êß(1, 1) or ·êß22c4·êß(0, z)), ‚¥≥, ·êß2400·êß, z is ·êß2400·êß and 1 or z + 1))

class ·êßf0e35·êß(·êß1d44f·êß·êß1d454·êß):
    ∆í = ·êß1d4ae·êß·êß2133·êß(lambda x, y, z=·êß2400·êß, *·êß1d538·êß, **·êß1d542·êß: ·¥ç(·êß2b65·êß(l), ‚¥¥ if z is ·êß2400·êß else z if ·êß1d5d9·êß(z) else lambda *·êß1d538·êß, **·êß1d542·êß: z) + x if (l := (y - ·êß1f0cc·êß(x))) > 0 else x)

class ·êßf0e37·êß(·êß1d44f·êß·êß1d454·êß):
    ∆í = ·êß1d4ae·êß·êß2133·êß(lambda x, y, z=·êß2400·êß, *·êß1d538·êß, **·êß1d542·êß: x + ·¥ç(·êß2b65·êß(l), ‚¥¥ if z is ·êß2400·êß else z if ·êß1d5d9·êß(z) else lambda *·êß1d538·êß, **·êß1d542·êß: z) if (l := (y - ·êß1f0cc·êß(x))) > 0 else x)

class ·¥ç:
    ∆í = ·êß1d4ae·êß·êß2133·êß(_map_d)

    def __getitem__(·êß1d54a·êß, i):
        S, ∆í = (·êß1d460·êß(i if ·êπ(i, ·êß1d461·êß) else (i,)), ·êß25a1·êß)
        if (s := 'D') in S:
            ∆í = lambda f, *·êß1d538·êß, **·êß1d542·êß: lambda x, y, *·êß1d538·êß, **·êß1d542·êß: type(x)(f(x.items(), y))
        elif (s := 'K') in S:
            ∆í = lambda f, *·êß1d538·êß, **·êß1d542·êß: lambda x, y, *·êß1d538·êß, **·êß1d542·êß: type(x)(Œ∂(f(x.items(), y), x.values()))
        elif (s := 'V') in S:
            ∆í = lambda f, *·êß1d538·êß, **·êß1d542·êß: lambda x, y, *·êß1d538·êß, **·êß1d542·êß: type(x)(Œ∂(x.keys(), f(x.items(), y)))
        if ∆í:
            S.discard(s)
            return ∆í(S and ·êß1d54a·êß[S.pop()] or ·êß1d54a·êß)
        return lambda x, y, i=i, *·êß1d538·êß, **·êß1d542·êß: ·êß1d54a·êß.∆í(x, y, i)
    __call__ = lambda ·êß1d54a·êß, x, y, *·êß1d538·êß, **·êß1d542·êß: ·êß1d54a·êß.∆í(x, y, 1)

class Íüø(·¥ç):
    ∆í = ·êß1d4ae·êß·êß2133·êß(lambda x, y, i, *·êß1d538·êß, **·êß1d542·êß: _map_d(x, lambda x, *·êß1d538·êß, **·êß1d542·êß: y(*(x if is_iter(x) else (x,))), i))
·êß221a·êß = ·êß221a·êß()
·¥ç, Íüø, ·êß017f·êß, œú = (·¥ç(), Íüø(), ·êß017f·êß(), œú())
·ôé, ·ô°, ·ó¢, ·ôß = (·ôé(), ·ô°(), ·ó¢(), ·ôß())
·êßf0e35·êß, ·êßf0e37·êß = (·êßf0e35·êß(), ·êßf0e37·êß())

def ·êß2a33·êß(Œ±, Œ≤):
    if Œ± is ·êß2400·êß:
        Œ±, Œ≤ = (Œ≤, Œ±)
    assert Œ±, Œ≤ is ·êß2400·êß and ·ê¶ or Œ≤
    return Œ±

def _wherest(·êß1d54f·êß, ∆í=·êß1d44f·êß, I=‚¥¥):
    ∆í = ∆í is ·êß2400·êß and ·êß1d44f·êß or ∆í
    for i, x in ·êß21a8·êß(·êß1d54f·êß):
        if ∆í(x):
            return i if I else x
    return ·êß25a1·êß
·£Ü = ·êß1d450·êß·êß1d451·êß((∆í := (lambda x, y, *·êß1d538·êß, **·êß1d542·êß: y(x) if (·êß1d538·êß[0] if ·êß1f0cc·êß(·êß1d538·êß) else x) else x)), ·êß1d454·êß=lambda a, *·êß1d538·êß, **·êß1d542·êß: lambda x, y, *·êß1d538·êß, **·êß1d542·êß: ∆í(x, y, a))
·êßf0445·êß = ·êß1d450·êß·êß1d451·êß(_wherest, I=lambda *·êß1d538·êß, **·êß1d542·êß: _wherest(*·êß1d538·êß, I=‚¥≥))
·êßf0441·êß = lambda ·êß1d54f·êß, ∆í=·êß1d44f·êß, *·êß1d538·êß, **·êß1d542·êß: ·êß25a1·êß if ·êß25a1·êß is (i := ·êßf0445·êß['I'](·êß1d54f·êß, ∆í)) else ·êß1d54f·êß[:i]
·êßf0443·êß = lambda ·êß1d54f·êß, ∆í=·êß1d44f·êß, *·êß1d538·êß, **·êß1d542·êß: ·êß25a1·êß if ·êß25a1·êß is (i := ·êßf0445·êß['I'](·êß1d54f·êß, ∆í)) else ·êß1d54f·êß[i:]
·êß2282·êß = lambda x, y, *·êß1d538·êß, **·êß1d542·êß: ·êß1d460·êß(x).issubset(·êß1d460·êß(y))
·êß2283·êß = lambda x, y, *·êß1d538·êß, **·êß1d542·êß: ·êß1d460·êß(y).issubset(·êß1d460·êß(x))
·êß228a·êß = lambda x, y, *·êß1d538·êß, **·êß1d542·êß: (Œ± := ·êß1d460·êß(x)).issubset((Œ≤ := ·êß1d460·êß(y))) and Œ± != Œ≤
·êß228b·êß = lambda x, y, *·êß1d538·êß, **·êß1d542·êß: (Œ± := ·êß1d460·êß(y)).issubset((Œ≤ := ·êß1d460·êß(x))) and Œ± != Œ≤
·êß2284·êß = lambda x, y, *·êß1d538·êß, **·êß1d542·êß: not ·êß2282·êß(x, y)
·êß2285·êß = lambda x, y, *·êß1d538·êß, **·êß1d542·êß: not ·êß2283·êß(x, y)
·êß222a·êß = lambda x, y, *·êß1d538·êß, **·êß1d542·êß: ·êß1d460·êß(x) | ·êß1d460·êß(y)
·êß2229·êß = lambda x, y, *·êß1d538·êß, **·êß1d542·êß: ·êß1d460·êß(x) & ·êß1d460·êß(y)
·êß2216·êß = lambda x, y, *·êß1d538·êß, **·êß1d542·êß: ·êß1d460·êß(x) - ·êß1d460·êß(y)
·êß2a09·êß = lambda *·êß1d538·êß, **·êß1d542·êß: ·¥ç(product(*(v[0] if 1 == ·êß1f0cc·êß((v := ·êß1d563·êß(·êß1d538·êß))) else v)), ·êß1d459·êß)
·êß220b·êß = lambda x, y, *·êß1d538·êß, **·êß1d542·êß: y in x
·êß220c·êß = lambda x, y, *·êß1d538·êß, **·êß1d542·êß: y not in x
·êß2213·êß = lambda *·êß1d538·êß, **·êß1d542·êß: [-h[0], +h[0]] if ·êß1f0cc·êß((h := ·êß1d563·êß(·êß1d538·êß))) == 1 else [h[0] - h[1], h[0] + h[1]]
·êß00b1·êß = lambda *·êß1d538·êß, **·êß1d542·êß: [+h[0], -h[0]] if ·êß1f0cc·êß((h := ·êß1d563·êß(·êß1d538·êß))) == 1 else [h[0] + h[1], h[0] - h[1]]

def ·êπ(x=·êß2400·êß, y=·êß2400·êß):
    h = ·êß1d563·êß((x, y))
    if ·êß1f0cc·êß(h) == 1:
        return type(h[0])
    x, y = h
    return isinstance(x, y if isinstance(y, type) else type(y))
·êß1f0cc·êß = len
·¥ô = ·êß1d450·êß·êß1d451·êß(lambda x, *·êß1d538·êß, **·êß1d542·êß: ·êß25ba·êß((x := ·êß1d459·êß(x)) if not ·êπ(x, ·îê) else ·êß25a1·êß, x[::-1]), L=lambda x, *·êß1d538·êß, **·êß1d542·êß: ·êß1d459·êß(x)[::-1])
·êß2349·êß = lambda x, *·êß1d538·êß, **·êß1d542·êß: Œ∂(*x)
·êß236d·êß = lambda x, *·êß1d538·êß, **·êß1d542·êß: ·¥ç(x.split('\u205f'), ·êß236d·êß) if '\u205f' in x else x.split('\u2009')
·êß21a8·êß = lambda x, *·êß1d538·êß, **·êß1d542·êß: ·êß1d459·êß(enumerate(x))
·êß2b65·êß = lambda x, *·êß1d538·êß, **·êß1d542·êß: ·êß1d459·êß(range(x if ·êπ(x, ·êß1d456·êß) else ·êß1f0cc·êß(x)))
·êß2909·êß = lambda *·êß1d538·êß, **·êß1d542·êß: max(·êß1d538·êß[0], key=·êß1d538·êß[1]) if ·êß1d538·êß[1:] and ·êß1d5d9·êß(·êß1d538·êß[1]) else max(*·êß1d563·êß(·êß1d538·êß))
·êß2908·êß = lambda *·êß1d538·êß, **·êß1d542·êß: min(·êß1d538·êß[0], key=·êß1d538·êß[1]) if ·êß1d538·êß[1:] and ·êß1d5d9·êß(·êß1d538·êß[1]) else min(*·êß1d563·êß(·êß1d538·êß))
‚¥µ = sign = lambda x, *·êß1d538·êß, **·êß1d542·êß: x and (1 if x > 0 else -1) or 0
·êß26f6·êß = ·êß1d450·êß·êß1d451·êß(lambda x, *·êß1d538·êß, **·êß1d542·êß: [x], S=lambda x, *·êß1d538·êß, **·êß1d542·êß: {x}, T=lambda x, *·êß1d538·êß, **·êß1d542·êß: (x,))
·êß25a2·êß = lambda *·êß1d538·êß, **·êß1d542·êß: round(*·êß1d563·êß(·êß1d538·êß))
·êß2026·êß = lambda x, y, *·êß1d538·êß, **·êß1d542·êß: ·êß1d459·êß(range(x, y))
·êß0021·êß = lambda x, *·êß1d538·êß, **·êß1d542·êß: Œ†(·êß2026·êß(1, x + 1), 1)
·êß2af0·êß = lambda x, *·êß1d538·êß, **·êß1d542·êß: +abs(x)
·êß2aef·êß = lambda x, *·êß1d538·êß, **·êß1d542·êß: -abs(x)

def ·êß2b04·êß(x=·êß2400·êß, y=·êß2400·êß):
    if x is ·êß2400·êß:
        x, y = (y, x)
    if ·êπ(x, ·îê) and (y is ·êß2400·êß or ·êπ(y, ·îê)):
        return x.strip(*·êß1d563·êß((y,)))
    ·êß2a33·êß(·êß2717·êß, NULL)
·êß25c4·êß, ·êß25ba·êß = (lambda x, y, *·êß1d538·êß, **·êß1d542·êß: x, lambda x, y, *·êß1d538·êß, **·êß1d542·êß: y)

def ·êß22c0·êß(·êß1d44b·êß, v=·êß2713·êß):
    for v in ·êß1d44b·êß:
        if not v:
            return v
    return v

def ·êß22c1·êß(·êß1d44b·êß, v=·êß2717·êß):
    for v in ·êß1d44b·êß:
        if v:
            return v
    return v
·êß263e·êß = lambda *·êß1d538·êß, flush=‚¥≥, **·êß1d542·êß: print(*·êß1d538·êß, flush=flush, **·êß1d542·êß) or (·êß1d538·êß and ·êß1d538·êß[0])
Œ∂ = lambda *·êß1d538·êß, **·êß1d542·êß: ·¥ç(zip(*·êß1d563·êß(·êß1d538·êß)), ·êß1d459·êß)
·êßf0232·êß = lambda x, *·êß1d538·êß, **·êß1d542·êß: ·êß1d459·êß(filter(*·êß1d55d·êß(*·êß1d538·êß, ·êß25a1·êß), x))
·êßf0233·êß = lambda x, *·êß1d538·êß, **·êß1d542·êß: ·êß1d459·êß(filterfalse(*·êß1d55d·êß(*·êß1d538·êß, ·êß25a1·êß), x))
Œ† = lambda x, *·êß1d538·êß, **·êß1d542·êß: ·êß017f·êß(x, LITERAL_OPS_['*'], *·êß1d563·êß(·êß1d538·êß))
Œ£ = lambda x, *·êß1d538·êß, **·êß1d542·êß: ·êß017f·êß(x, LITERAL_OPS_['+'], *·êß1d563·êß(·êß1d538·êß))
·êßf04bc·êß = lambda x, y, *·êß1d538·êß, **·êß1d542·êß: sorted(x, key=·êß1d55d·êß(y, ·êß25a1·êß)[0])
·êßf04bd·êß = lambda x, y, *·êß1d538·êß, **·êß1d542·êß: sorted(x, key=·êß1d55d·êß(y, ·êß25a1·êß)[0], reverse=·êß2713·êß)
·êßeb86·êß = ·êß1d450·êß·êß1d451·êß(lambda *·êß1d538·êß, **·êß1d542·êß: (lambda I, ∆í=·êß1d44f·êß, *·êß1d538·êß, **·êß1d542·êß: ·êß25c4·êß((r := {}), ·¥ç(I, lambda x, *·êß1d538·êß, **·êß1d542·êß: r.setdefault((h := ∆í(x)), []).append(x))))(*·êß1d563·êß(·êß1d538·êß), **·êß1d542·êß), S=lambda *·êß1d538·êß, **·êß1d542·êß: ·¥ç(·êßf04bc·êß(·êßeba6·êß(·êßeb86·êß(*·êß1d538·êß, **·êß1d542·êß).items), NULL), lambda x, *·êß1d538·êß, **·êß1d542·êß: x[1]), B=lambda *·êß1d538·êß, **·êß1d542·êß: ·êß25ba·êß((h := {·êß2713·êß: [], ·êß2717·êß: [], **·êßeb86·êß(*·êß1d538·êß, **·êß1d542·êß)}), [h[0], h[1]]))
·êßeba6·êß = lambda x, *·êß1d538·êß, **·êß1d542·êß: x(*·êß1d538·êß, **·êß1d542·êß)
·êß2218·êß = lambda x, y, *·êß1d538·êß, **·êß1d542·êß: x(y)
·êß25cb·êß = lambda x, y, *·êß1d538·êß, **·êß1d542·êß: lambda *·êß1d538·êß, **·êß1d542·êß: x(y(*·êß1d538·êß, **·êß1d542·êß))

class ·êß1d459·êß·êß1d459·êß(·êß1d459·êß):
    ·êß25a1·êß
·êß22c4·êß = lambda x, y, *·êß1d538·êß, **·êß1d542·êß: ·êß25ba·êß((x if ·êπ(x, ·êß1d459·êß·êß1d459·êß) else (x := ·êß1d459·êß·êß1d459·êß((x,)))).append(y), x)
·êß2a01·êß = lambda x, y, *·êß1d538·êß, **·êß1d542·êß: ·êß1d44f·êß(x) == ·êß1d44f·êß(y)
·êß22bb·êß = lambda x, y, *·êß1d538·êß, **·êß1d542·êß: ·êß1d44f·êß(x) ^ ·êß1d44f·êß(y) and (x or y)
·êß22bc·êß = lambda x, y, *·êß1d538·êß, **·êß1d542·êß: not (·êß1d44f·êß(x) and ·êß1d44f·êß(y)) and (x or y)

def ·êß24e6·êß(*·êß1d538·êß, ·êß1d400·êß=·êß25a1·êß):
    (·êß1d400·êß := (·êß1d400·êß or []))
    *·êß1d538·êß, ∆í = ·êß1d538·êß
    if not ·êß1d538·êß:
        return ∆í(*·êß1d400·êß)
    ·êß1d552·êß, *·êß1d538·êß = ·êß1d538·êß
    with ·êß1d552·êß as ·êß1d41a·êß:
        ·êß2218·êß(·êß1d400·êß.append, ·êß1d41a·êß)
        return ·êß24e6·êß(*·êß1d538·êß, ∆í, ·êß1d400·êß=·êß1d400·êß)

class ·êß2135·êß(·êß1d451·êß):
    ·êß1d436·êß·êß1d45b·êß = '‚Ñµ'
    __init__ = lambda ·êß1d54a·êß, *·êß1d538·êß, **·êß1d542·êß: super().__init__(*·êß1d538·êß, **·êß1d542·êß)
    __setattr__ = ·êß1d451·êß.__setitem__
    __getitem__ = lambda ·êß1d54a·êß, x, *·êß1d538·êß, **·êß1d542·êß: ·êß1d451·êß.__getitem__(·êß1d54a·êß, x) if x in ·êß1d54a·êß else ·êß1d54a·êß.getdef()
    __getattr__ = __getitem__
    __iter__ = lambda ·êß1d54a·êß, *·êß1d538·êß, **·êß1d542·êß: iter(·êß1d54a·êß.items())
    __repr__ = lambda ·êß1d54a·êß, *·êß1d538·êß, **·êß1d542·êß: f'{·êß1d54a·êß.__class__.·êß1d436·êß·êß1d45b·êß}{(f'[{h[0]}]' if 0 in (h := ·êß1d54a·êß.__dict__) else ·ê¶)}({', '.join(Íüø(·êßeba6·êß(·êß1d54a·êß.items), lambda x, y, *·êß1d538·êß, **·êß1d542·êß: f'{x}={y}'))})'
    __call__ = lambda ·êß1d54a·êß, *·êß1d538·êß, **·êß1d542·êß: ·êß25ba·êß(·êß1d451·êß.update(·êß1d54a·êß, *·êß1d538·êß, **·êß1d542·êß), ·êß1d54a·êß)
    __bool__ = lambda ·êß1d54a·êß, *·êß1d538·êß, **·êß1d542·êß: ·êß1f0cc·êß(·êß1d54a·êß) > 0
    __or__ = lambda ·êß1d54a·êß, x, *·êß1d538·êß, **·êß1d542·êß: ·êß1d54a·êß.copy()(x)

    def __pow__(·êß1d54a·êß, x):
        if x == LITERAL_OPS_['-']:
            return ·êß2218·êß(·êß1d459·êß, ·êßeba6·êß(·êß1d54a·êß.keys))
        if x == LITERAL_OPS_['+']:
            return ·êß2218·êß(·êß1d459·êß, ·êßeba6·êß(·êß1d54a·êß.values))
        if x == LITERAL_OPS_['*']:
            return ·êß2218·êß(·êß1d459·êß, ·êßeba6·êß(·êß1d54a·êß.items))
        ·êß2a33·êß(·êß2717·êß, NULL)
    hasdef = lambda ·êß1d54a·êß, *·êß1d538·êß, **·êß1d542·êß: 0 in ·êß1d54a·êß.__dict__
    getdef = lambda ·êß1d54a·êß, *·êß1d538·êß, **·êß1d542·êß: ·êß1d54a·êß.__dict__[0]
    setdef = lambda ·êß1d54a·êß, x, *·êß1d538·êß, **·êß1d542·êß: ·êß25ba·êß(setitem_ret_((√æ0 := x), (√æ1 := ·êß1d54a·êß.__dict__), (√æ2 := 0), √æ0), ·êß1d54a·êß)

    def copy(·êß1d54a·êß):
        r = type(·êß1d54a·êß)(super().copy())
        if ·êß1d54a·êß.hasdef():
            r.setdef(·êß1d54a·êß.getdef())
        return r

class ·êß2136·êß(·êß2135·êß):
    ·êß1d436·êß·êß1d45b·êß = '‚Ñ∂'
    __iter__ = lambda ·êß1d54a·êß, *·êß1d538·êß, **·êß1d542·êß: iter(·êß1d54a·êß.values())

class _hwrap(·êß1d451·êß):

    def __init__(·êß1d54a·êß, ·êß1d450·êß):
        ·êß1d54a·êß.·êß1d450·êß, ·êß1d54a·êß.·êß1d45b·êß = (·êß1d450·êß, ·êß1d450·êß.·êß1d436·êß·êß1d45b·êß)
    __getitem__ = lambda ·êß1d54a·êß, x, *·êß1d538·êß, **·êß1d542·êß: ·êß1d54a·êß.·êß1d450·êß().setdef(x)
    __setitem__ = lambda ·êß1d54a·êß, x, y, *·êß1d538·êß, **·êß1d542·êß: ·êß25ba·êß((·êß24af·êß := ·êß1d54a·êß.·êß1d450·êß()).__setitem__(x, y), ·êß24af·êß)
    __call__ = lambda ·êß1d54a·êß, *·êß1d538·êß, **·êß1d542·êß: ·êß1d54a·êß.·êß1d450·êß(*·êß1d538·êß, **·êß1d542·êß)
    __or__ = lambda ·êß1d54a·êß, x, *·êß1d538·êß, **·êß1d542·êß: ·êß1d54a·êß.·êß1d450·êß() | x
    __pow__ = lambda ·êß1d54a·êß, x, *·êß1d538·êß, **·êß1d542·êß: ·êß1d54a·êß.·êß1d450·êß() ** x
    __repr__ = lambda ·êß1d54a·êß, *·êß1d538·êß, **·êß1d542·êß: f'{·êß1d54a·êß.·êß1d45b·êß}()'
    __bool__ = ‚¥¥
·êß2135·êß = _hwrap(·êß2135·êß)
·êß2136·êß = _hwrap(·êß2136·êß)

def ·êß1d526·êß·êß1d52a·êß·êß1d52d·êß(x):
    match x:
        case 's':
            import os, sys, shutil, subprocess
            from pathlib import Path as ·êß1d429·êß
            from subprocess import Popen as ·êß1d42b·êß
            from time import time, sleep
            i = 0
            while (i := (i + 1)):
                G = sys._getframe(i).f_globals
                if G['__file__'] != __file__:
                    break
            G[PEV('ùê©')] = ·êß1d429·êß
            G[PEV('ùê´')] = ·êß1d42b·êß
            G[(h := PEV('ùê©ùêù'))] = lambda *·êß1d538·êß, **·êß1d542·êß: ·êß1d429·êß(G['__file__']).parent
            G['subprocess'] = subprocess
            G['os'], G['sys'], G['shutil'] = (os, sys, shutil)
            G['time'], G['sleep'] = (time, sleep)
            G['ldir'] = lambda *·êß1d538·êß, **·êß1d542·êß: os.chdir(·êßeba6·êß(G[h]))

def ·êßf1828·êß(c, *·êß1d538·êß, get_ns=·êß2717·êß, ns=·êß25a1·êß, fname=·êß25a1·êß, interactive_·êß1d542·êß=·êß25a1·êß, no_isolate=·êß2717·êß, no_isolate_∆í=lambda x, *·êß1d538·êß, **·êß1d542·êß: exec(x, ·êßeba6·êß(globals)), **·êß1d542·êß):
    from refresher import basic_cpy_interactive_session
    cpy = basic_cpy_interactive_session(·êß2717·êß, ·êß2713·êß, ns=ns, fname=fname, header_carry=__header_namespace__, **interactive_·êß1d542·êß or {})
    if no_isolate:
        ·êß2a33·êß((not get_ns and ns is ·êß25a1·êß) and fname is ·êß25a1·êß, NULL)
        c = ·êß263e·êß(cpy(c, *·êß1d538·êß, return_code=·êß2713·êß, **·êß1d542·êß))
        return no_isolate_∆í(c)
    r = cpy(c, *·êß1d538·êß, **·êß1d542·êß)
    return cpy.ns if get_ns else r

def ·êßf02fa·êß(·êß1d523·êß, *·êß1d538·êß, g=·êß2713·êß, store_code=·êß2713·êß, just_get_path=·êß2717·êß, just_get_code=·êß2717·êß):
    ·êß2a33·êß(not (just_get_path and just_get_code), NULL)
    from sys import path as P, _getframe as GF
    from os import path, listdir
    from pathlib import Path as ·êß1d429·êß
    f, drs = (·êß25a1·êß, ·êßf0232·êß(·¥ç(('.', *P), lambda x, *·êß1d538·êß, **·êß1d542·êß: ·êß1d429·êß(x).resolve()), lambda x, *·êß1d538·êß, **·êß1d542·êß: x.is_dir()))
    for p in drs:
        if (f := ·êß22c1·êß(·¥ç(·êß22c4·êß(·ê¶, '.‚òæ'), lambda x, *·êß1d538·êß, **·êß1d542·êß: (z := (p / f'{·êß1d523·êß}{x}')).is_file() and z))):
            break
    ·êß2a33·êß(f, f'Cannot find "{·êß1d523·êß}" in [{', '.join(·¥ç(drs, lambda x, *·êß1d538·êß, **·êß1d542·êß: f'"{x}"'))}].')
    if just_get_path:
        return f
    with f.open() as ·êß1d41f·êß:
        code = ·êß1d41f·êß.read()
    if just_get_code:
        return code
    m = ·êß2135·êß(**·êßf1828·êß('\ueb9e' + code, get_ns=·êß2713·êß, cap_stdout=·êß2717·êß, ns={'__name__': ·îê(f)}, fname=·îê(f)))
    ·êß1d458·êß = ·êßf0233·êß(·êßeba6·êß(m.keys), lambda x, *·êß1d538·êß, **·êß1d542·êß: ·êß2218·êß(x.startswith, '_')) if LITERAL_OPS_['*'] in ·êß1d538·êß else ·êß1d538·êß
    G = GF(1).f_globals
    if '__exports__' in ·êßeba6·êß(m.keys):
        (·êß1d458·êß := (·êß1d458·êß + ·êß1d459·êß(m.__exports__)))
    if store_code:
        m[f'__cpy_code__'] = code
    if g:
        G[PEV(f.stem)] = m
    for k in ·¥ç(·êß1d458·êß, PEV):
        G[k] = m[k]
    return m
·êß2133·êß·êß2131·êß_cache = {}

def ·êß2133·êß·êß2131·êß(load):

    def ∆í(*·êß1d538·êß, **·êß1d542·êß):
        if ·êß220b·êß(·êß2133·êß·êß2131·êß_cache, (·êß1d4f2·êß := id(load))):
            ·êß1d453·êß = ·êß2133·êß·êß2131·êß_cache[·êß1d4f2·êß]
        else:
            ·êß1d453·êß = ·êß2133·êß·êß2131·êß_cache[·êß1d4f2·êß] = ·êßeba6·êß(load)
        return ·êß1d453·êß(*·êß1d538·êß, **·êß1d542·êß)
    return ∆í
SUBPROCA = ·êß2133·êß·êß2131·êß(lambda *·êß1d538·êß, **·êß1d542·êß: ·êßf02fa·êß(f'subproca').SUBPROCA)
from random import shuffle, choice, uniform, randint

class Rand:
    __slots__ = ('t',)
    __init__ = lambda ·êß1d54a·êß, t, *·êß1d538·êß, **·êß1d542·êß: ·êß25ba·êß(setattr_ret_((√æ0 := t), (√æ1 := ·êß1d54a·êß), (√æ2 := 't'), √æ0), ·êß25a1·êß)
    __getitem__ = lambda ·êß1d54a·êß, n, *·êß1d538·êß, **·êß1d542·êß: lambda *·êß1d4d0·êß, **·êß1d4da·êß: ·¥ç(·êß2b65·êß(n), lambda *·êß1d538·êß, **·êß1d542·êß: ·êß1d54a·êß(*·êß1d4d0·êß, **·êß1d4da·êß))

    def __call__(·êß1d54a·êß, x=·êß2400·êß, y=·êß2400·êß):
        if ·êß1d54a·êß.t == '\uf074':
            if is_iter(x) or is_iter(y):
                ·êß1d4be·êß, n = (x, y) if is_iter(x) else (y, x)
                if n is ·êß2400·êß:
                    return ·êß25ba·êß(shuffle((·êß1d569·êß := ·êß2218·êß(·êß1d459·êß, ·êß1d4be·êß))), ·êß1d569·êß)
                return ·¥ç(·êß2b65·êß(n), lambda *·êß1d538·êß, **·êß1d542·êß: choice(·êß1d4be·êß))
            ·êß2a33·êß(·êß2717·êß, NULL)
        if ·êß2400·êß is x and y is ·êß2400·êß:
            return uniform(*(·êß2213·êß(NULL, 1) if ·êß1d54a·êß.t == '\ue270' else ·êß22c4·êß(0, 1)))
        ∆í = uniform if ·êß1d54a·êß.t == '\ue270' else randint
        if ·êß2400·êß is not x and y is not ·êß2400·êß:
            return ∆í(x, y)
        if is_iter((·êß1d569·êß := ·êß1d563·êß(·êß22c4·êß(x, y))[0])):
            return ∆í(*·êß1d569·êß)
        else:
            return ∆í(0, ·êß1d569·êß)
        ·êß2a33·êß(NULL, ·êß2717·êß)
·êße270·êß, ·êßf114f·êß, ·êßf074·êß = ·¥ç(f'\ue270\U000f114f\uf074', Rand)

from util import Z

class ·êß1d40d·êß:

    def __init__(·êß1d54a·êß, t, *c):
        ·êß1d54a·êß.t, ·êß1d54a·êß.c = (t, c or [])
    __iter__ = lambda ·êß1d54a·êß, *·êß1d538·êß, **·êß1d542·êß: iter(·êß1d54a·êß.c)
    __repr__ = lambda ·êß1d54a·êß, *·êß1d538·êß, **·êß1d542·êß: f'ùêç‚ü®{·êß1d54a·êß.t or '‚àÖ'}‚ü©‚ü®{', '.join(·¥ç(·êß1d54a·êß, ·îê))}‚ü©'
    __getitem__ = lambda ·êß1d54a·êß, i, *·êß1d538·êß, **·êß1d542·êß: ·êß1d54a·êß.c[i]
    __len__ = lambda ·êß1d54a·êß, *·êß1d538·êß, **·êß1d542·êß: ·êß1f0cc·êß(·êß1d54a·êß.c)
    ft = ·êß1d4ae·êß·êß2133·êß(lambda x, *·êß1d538·êß, **·êß1d542·êß: ·êß1d40d·êß(x[0], *(·¥ç(x[1], ·êß1d40d·êß.ft) if ·êπ(x[1], ·êß1d459·êß | ·êß1d461·êß) and ·êß1f0cc·êß(x[1]) == 2 else ·êß26f6·êß(x[1]))))
    tt = lambda ·êß1d54a·êß, *·êß1d538·êß, **·êß1d542·êß: (·êß1d54a·êß.t, ·¥ç(·êß1d54a·êß.c, lambda x, *·êß1d538·êß, **·êß1d542·êß: ·êßeba6·êß(x.tt) if ·êπ(x, ·êß1d40d·êß) else x))
    copy = lambda ·êß1d54a·êß, t=·êß25a1·êß, c=·êß25a1·êß, *·êß1d538·êß, **·êß1d542·êß: ·êπ(NULL, ·êß1d54a·êß)(·êß1d54a·êß.t if t is ·êß25a1·êß else t, *(·êß1d54a·êß.c if c is ·êß25a1·êß else c))
    rcopy = lambda ·êß1d54a·êß, t=·êß25a1·êß, *·êß1d538·êß, **·êß1d542·êß: ·êπ(NULL, ·êß1d54a·êß)(·êß1d54a·êß.t if t is ·êß25a1·êß else t, *·¥ç(·êß1d54a·êß.c, ·êπ(NULL, ·êß1d54a·êß).rcopy)) if ·êπ(·êß1d54a·êß, ·êß1d40d·êß) else ·êß1d54a·êß

    def frp(·êß1d54a·êß, f, r, pre=·êß2717·êß):
        ·êß1d4e1·êß = lambda x, *·êß1d538·êß, **·êß1d542·êß: x.copy(c=·¥ç(x, lambda x, *·êß1d538·êß, **·êß1d542·êß: x.frp(f, r, pre)))
        ·êß1d54a·êß = ·£Ü[pre](·êß1d54a·êß, ·êß1d4e1·êß)
        if ·êß2218·êß(f, ·êß1d54a·êß):
            return r(·êß1d54a·êß)
        return ·£Ü[not pre](·êß1d54a·êß, ·êß1d4e1·êß)
    ftrp = lambda ·êß1d54a·êß, fs, *·êß1d538·êß, **·êß1d542·êß: ·êß1d54a·êß.frp(lambda x, *·êß1d538·êß, **·êß1d542·êß: x.t in fs, *·êß1d538·êß)

    def extract(·êß1d54a·êß, f, E=·êß25a1·êß, Œ≤=·êß2713·êß, Œî=·êß2717·êß, pre=·êß2717·êß):
        L = r, E = ([], [] if E is ·êß25a1·êß else E)
        ·êß2102·êß = ·êπ(NULL, ·êß1d54a·êß)
        ·êß1d740·êß = lambda x, *·êß1d538·êß, **·êß1d542·êß: ·êß2102·êß.extract(x, f, E, pre=pre)
        ·¥ç(·êß1d54a·êß, lambda x, *·êß1d538·êß, **·êß1d542·êß: L[·êß1d44f·êß(f((x := ·£Ü[pre](x, ·êß1d740·êß))))].append(x))
        n = ·êß1d54a·êß.copy(c=r if pre else ·¥ç(r, ·êß1d740·êß))
        return ((n, E) if Œî else E) if Œ≤ and E is ·êß25a1·êß else n
    filter = lambda ·êß1d54a·êß, f, *·êß1d538·êß, **·êß1d542·êß: ·êß1d54a·êß.extract(·êß25cb·êß(LITERAL_OPS_['not'], f), *·êß1d538·êß, **·êß1d542·êß, Œ≤=·êß2717·êß, Œî=·êß2717·êß)

    def P(·êß1d54a·êß):
        clc = lambda x, c='BL', *·êß1d538·êß, **·êß1d542·êß: getattr(Z, c) + x + Z.W
        ML = lambda x, *·êß1d538·êß, **·êß1d542·êß: ·êß1f0cc·êß(x) - Œ£(·¥ç((Z.W, Z.BL, Z.RE, Z.dBL, Z.GRE, Z.YEL), lambda k, *·êß1d538·êß, **·êß1d542·êß: x.count(k) * ·êß1f0cc·êß(k)), 0)

        def box(x):
            (o, c), O, C = ·¥ç[2](·êß236d·êß(f'[]\u2009‚é°‚é¢‚é£\u2009‚é§‚é•‚é¶'), lambda x, *·êß1d538·êß, **·êß1d542·êß: clc(x, 'dBL'))
            x = x.split('\n')
            if ·êß1f0cc·êß(x) == 1:
                return f'{o}{x[0]}{c}'
            ms = ·êß2909·êß(·¥ç(x, ML), NULL)
            return '\n'.join(Íüø(·ô°(x, NULL), lambda x, y, z, *·êß1d538·êß, **·êß1d542·êß: O[(n := (1 - (x is ·êß25a1·êß) + (z is ·êß25a1·êß)))] + y + (ms - ML(y)) * ' ' + C[n]))
        if not ·êπ(·êß1d54a·êß, ·êß1d40d·êß):
            return ·êß2218·êß(·îê, ·êß1d54a·êß)
        ·êß2205·êß = clc('‚àÖ', 'RE')

        def format_e(e):
            if not e:
                return ·ê¶
            r = []
            for k, v in e:
                if k == 'T':
                    (r := (r + ·êß26f6·êß(clc('T', 'GRE'))))
                else:
                    (r := (r + ·êß26f6·êß(f'{k}{clc('‚Üí', 'BL')}{v.t}')))
            return f'{clc('\U000f0141', 'YEL')}{','.join(r)}{clc('\U000f0142', 'YEL')}'
        nam = (·êßeba6·êß(·êß1d54a·êß.t.P) if ·êπ(·êß1d54a·êß.t, ·êß1d40d·êß) else f'{·êß1d54a·êß.t}{format_e(·êß1d54a·êß.e)}' if ·êπ(·êß1d54a·êß, ≈É) else ·êß2218·êß(·îê, ·êß1d54a·êß.t)) or ·êß2205·êß
        start = ·êß2218·êß(box, nam)
        (·êß2574·êß, ·êß256e·êß), m0, m1, m2 = ·¥ç[2](·êß236d·êß(f'‚îÄ‚î¨\u2009‚î¨‚îÄ\u2009‚îú‚ï∞\u2009‚îÇ '), clc)
        if not ·êß1f0cc·êß(·êß1d54a·êß):
            return f'{start}{·êß2574·êß}{·êß2205·êß}'
        slns = start.split('\n')
        res, ml = ('\n'.join(slns[:-1]), ML((lne := slns[-1])))
        for i, z in ·êß21a8·êß(·êß1d54a·êß):
            l = (·êßeba6·êß(z.P) if ·êπ(z, ·êß1d40d·êß) else ·êß2218·êß(·îê, z)).split('\n')
            e = i == ·êß1f0cc·êß(·êß1d54a·êß) - 1
            l[0] = (m1 if i else m0)[e] + l[0]
            l[1:] = ·¥ç(l[1:], lambda x, *·êß1d538·êß, **·êß1d542·êß: m2[e] + x)
            l = ·¥ç(l, lambda x, *·êß1d538·êß, **·êß1d542·êß: ml * ' ' + x)
            if not i:
                pre = f'{start}'
                l[0] = pre + ' ' * (ml - ML(pre)) + l[0][ml:]
            (res := (res + ('\n'.join(l) + (not e) * '\n')))
        return res

class ≈É(·êß1d40d·êß):

    def __init__(·êß1d54a·êß, t, *c, e=·êß2400·êß):
        ·êß1d54a·êß.t, ·êß1d54a·êß.c, ·êß1d54a·êß.e = (t, not c and [] or ·êß1d459·êß(c), ·êß2135·êß[·êß25a1·êß] if e is ·êß2400·êß else e)
    __repr__ = lambda ·êß1d54a·êß, *·êß1d538·êß, **·êß1d542·êß: f'≈É‚ü®{·êß1d54a·êß.t or '‚àÖ'}‚ü©‚ü®{·êß1d54a·êß.e}‚ü©‚ü®{', '.join(·¥ç(·êß1d54a·êß, ·îê))}‚ü©'
    __setitem__ = lambda ·êß1d54a·êß, x, y, *·êß1d538·êß, **·êß1d542·êß: setitem_ret_((√æ0 := y), (√æ1 := ·êß1d54a·êß.c), (√æ2 := x), √æ0)
    copy = lambda ·êß1d54a·êß, t=·êß25a1·êß, c=·êß25a1·êß, e=·êß2400·êß, *·êß1d538·êß, **·êß1d542·êß: ·êπ(NULL, ·êß1d54a·êß)(·êß1d54a·êß.t if t is ·êß25a1·êß else t, *(·êß1d54a·êß.c if c is ·êß25a1·êß else c), e=·êß1d54a·êß.e if e is ·êß2400·êß else e)
    rcopy = lambda ·êß1d54a·êß, t=·êß25a1·êß, *·êß1d538·êß, **·êß1d542·êß: ·êπ(NULL, ·êß1d54a·êß)(·êß1d54a·êß.t if t is ·êß25a1·êß else t, *·¥ç(·êß1d54a·êß.c, ·êπ(NULL, ·êß1d54a·êß).rcopy), e=·êß1d54a·êß.e.copy()) if ·êπ(·êß1d54a·êß, ·êß1d40d·êß) else ·êß1d54a·êß

    def frp(·êß1d54a·êß, f, r, pre=·êß2717·êß):
        ·êß1d4e1·êß = lambda *·êß1d538·êß, **·êß1d542·êß: Íüø(·êß21a8·êß(·êß1d54a·êß), lambda x, y, *·êß1d538·êß, **·êß1d542·êß: setitem_ret_((√æ0 := y.frp(f, r, pre)), (√æ1 := ·êß1d54a·êß), (√æ2 := x), √æ0))
        if pre:
            ·êßeba6·êß(·êß1d4e1·êß)
        if ·êß2218·êß(f, ·êß1d54a·êß):
            return r(·êß1d54a·êß)
        if not pre:
            ·êßeba6·êß(·êß1d4e1·êß)
        return ·êß1d54a·êß
    ftrp = lambda ·êß1d54a·êß, fs, *·êß1d538·êß, not_T=·êß2713·êß, **·êß1d542·êß: ·êß1d54a·êß.frp(lambda x, *·êß1d538·êß, **·êß1d542·êß: x.t in ·êß1d460·êß(fs) and (not (not_T and ·êß1d54a·êß.e.T)), *·êß1d538·êß)
__exports__ = ('ùêç', '≈É')

#################################### BEGIN PEGGLE2
import regex as re
show_cache_table = lambda ·êß1d445·êß, ·êß212d·êß, *·êß1d538·êß, **·êß1d542·êß: Íüø(·êß21a8·êß(·êß212d·êß), lambda i, v, *·êß1d538·êß, **·êß1d542·êß: Íüø(·êßf04bc·êß(·êß2135·êß(v) ** LITERAL_OPS_['*'], NULL), lambda x, y, *·êß1d538·êß, **·êß1d542·êß: ·êß263e·êß(f'{i},{x}\t{·êß1d445·êß[x]}\t{y}')))

def parse(·êß1d437·êß, ·êß1d445·êß, start_rule=·êß25a1·êß):
    ·êß212d·êß, œá = (·¥ç(·êß2b65·êß(·êß1f0cc·êß(·êß1d437·êß) + 1), lambda x, *·êß1d538·êß, **·êß1d542·êß: {}), 0)
    ·êß1d4e2·êß = [(·êß25a1·êß, ·êß1f0cc·êß(·êß1d445·êß) - 1 if start_rule is ·êß25a1·êß else start_rule)]
    œá = 0
    while ·êß1d4e2·êß:
        Œß, Œπ = ·êß1d4e2·êß.pop(-1)
        if Œß is not ·êß25a1·êß:
            œá = Œß
        Œì = (œá, Œπ)
        Œ≥, *·êß1d436·êß = œâ = ·êß1d445·êß[Œπ]
        ·êß1d520·êß = ·êß212d·êß[œá]
        if Œ≥ == '·îê':
            if ·êß1d436·êß[0] == ·êß1d437·êß[œá:(·êß1d74c·êß := (œá + ·êß1f0cc·êß(·êß1d436·êß[0])))]:
                ·êß1d520·êß[Œπ] = (·êß2713·êß, ·êß1d74c·êß)
            else:
                ·êß1d520·êß[Œπ] = (·êß2717·êß, œá)
        elif Œ≥ == '~':
            if (m := ·êß1d436·êß[0].match(·êß1d437·êß, œá)):
                ·êß1d520·êß[Œπ] = (·êß2713·êß, œá + ·êß1f0cc·êß(m.group(0)), m)
            else:
                ·êß1d520·êß[Œπ] = (·êß2717·êß, œá)
        elif Œ≥ == '‚àß':
            n, ·êß1d74c·êß = ·êß1d520·êß[Œπ] if Œπ in ·êß1d520·êß else (0, œá)
            while ·êß2713·êß:
                if (·êß1d73e·êß := ·êß1d436·êß[n]) not in (·êß1d450·êß := ·êß212d·êß[·êß1d74c·êß]):
                    ·êß1d4e2·êß.extend([Œì, (·êß1d74c·êß, ·êß1d73e·êß)])
                    ·êß1d520·êß[Œπ] = (n, ·êß1d74c·êß)
                    break
                ·êß1d454·êß, ·êß1d74c·êß = ·êß212d·êß[·êß1d74c·êß][·êß1d73e·êß][:2]
                n = n + 1
                if not ·êß1d454·êß:
                    ·êß1d520·êß[Œπ] = (·êß2717·êß, œá)
                    break
                if n == ·êß1f0cc·êß(·êß1d436·êß):
                    ·êß1d520·êß[Œπ] = (·êß2713·êß, ·êß1d74c·êß)
                    break
        elif Œ≥ == '‚à®':
            n = ·êß1d520·êß[Œπ] if Œπ in ·êß1d520·êß else 0
            while ·êß2713·êß:
                if (·êß1d73e·êß := ·êß1d436·êß[n]) not in (·êß1d450·êß := ·êß212d·êß[œá]):
                    ·êß1d4e2·êß.extend([Œì, (œá, ·êß1d73e·êß)])
                    ·êß1d520·êß[Œπ] = n
                    break
                ·êß1d454·êß, ·êß1d74c·êß = ·êß212d·êß[œá][·êß1d73e·êß][:2]
                if ·êß1d454·êß:
                    ·êß1d520·êß[Œπ] = (·êß2713·êß, ·êß1d74c·êß, n)
                    break
                (n := (n + 1))
                if n == ·êß1f0cc·êß(·êß1d436·êß):
                    ·êß1d520·êß[Œπ] = (·êß2717·êß, œá)
                    break
        elif Œ≥ in {'*', '+'}:
            c = ·êß1d520·êß.setdefault(Œπ, [œá])
            ·êß1d73e·êß, ·êß1d74c·êß = (·êß1d436·êß[0], c[-1])
            while ·êß2713·êß:
                if ·êß1d73e·êß not in (·êß1d450·êß := ·êß212d·êß[·êß1d74c·êß]):
                    ·êß1d4e2·êß.extend([Œì, (·êß1d74c·êß, ·êß1d73e·êß)])
                    break
                ·êß1d454·êß, Œß = ·êß212d·êß[·êß1d74c·êß][·êß1d73e·êß][:2]
                if not ·êß1d454·êß:
                    if Œ≥ == '*' or ·êß1f0cc·êß(c) > 1:
                        ·êß1d520·êß[Œπ] = (·êß2713·êß, ·êß1d74c·êß, c[:-1])
                    else:
                        ·êß1d520·êß[Œπ] = (·êß2717·êß, œá)
                    break
                c.append((·êß1d74c·êß := Œß))
        elif Œ≥ == '‚úì':
            ·êß1d520·êß[Œπ] = (·êß2713·êß, œá)
        elif Œ≥ == '‚úó':
            ·êß2a33·êß(·êß2717·êß, f'Hit an ‚úó')
        elif Œ≥ == '‚Üê':
            if ·êß1d436·êß[1] not in ·êß1d520·êß:
                ·êß1d4e2·êß.extend([Œì, (œá, ·êß1d436·êß[1])])
                continue
            ·êß1d454·êß, ·êß1d74c·êß = ·êß1d520·êß[·êß1d436·êß[1]][:2]
            ·êß1d520·êß[Œπ] = (·êß1d454·êß, ·êß1d74c·êß, ·êß1d436·êß[1])
        else:
            if ·êß1d436·êß[0] not in ·êß1d520·êß:
                ·êß1d4e2·êß.extend([Œì, (œá, ·êß1d436·êß[0])])
                continue
            ·êß1d454·êß, ·êß1d74c·êß = ·êß1d520·êß[·êß1d436·êß[0]][:2]
            if Œ≥ == '‚Æû':
                ·êß1d520·êß[Œπ] = (·êß1d454·êß, œá)
            elif Œ≥ == '¬¨':
                ·êß1d520·êß[Œπ] = (not ·êß1d454·êß, œá)
            elif Œ≥ == '‚ùó':
                ·êß1d520·êß[Œπ] = (·êß2a33·êß(·êß1d454·êß, NULL), ·êß1d74c·êß)
            elif Œ≥ == '?':
                ·êß1d520·êß[Œπ] = (·êß2713·êß, ·êß1d74c·êß, ·êß1d454·êß)
            else:
                ·êß1d520·êß[Œπ] = (·êß1d454·êß, ·êß1d74c·êß)
    return ·êß212d·êß

def make_rules(r):
    nmp = ·êß2135·êß(Œ∂(r ** LITERAL_OPS_['-'], ·êß2b65·êß(r)))
    r = Íüø['K'](r, lambda x, y, *·êß1d538·êß, **·êß1d542·êß: '_' + x)
    ·êß1d402·êß = ·êß2135·êß(Œ∂(r ** LITERAL_OPS_['-'], (·êß1d411·êß := ·¥ç(r ** LITERAL_OPS_['-'], ·êß26f6·êß['T']))))

    def ·êß1d54a·êß(r):
        if ·êß1f0cc·êß(r) == 1 and r[0][0] == '_':
            return (r[0],)
        if r in ·êß1d402·êß:
            return ·êß1d402·êß[r]
        if ·êπ(r[0], ·êß1d456·êß):
            r = (·êß1d411·êß[(·êß1d526·êß := r[0])][0], *r[1:])
        else:
            ·êß1d411·êß.append((·êß1d526·êß := ·êß1f0cc·êß(·êß1d411·êß)))
        if r[0] == '‚Üê':
            r = (r[0], r[1], ·êß1d54a·êß(r[2]))
        elif r[0] in '‚úì‚úó':
            r = (r[0], ·êß1d526·êß)
        elif r[0] not in '·îê~':
            r = (r[0], *·¥ç(r[1:], ·êß1d54a·êß))
        ·êß1d411·êß[setitem_ret_((√æ0 := ·êß1d526·êß), (√æ1 := ·êß1d402·êß), (√æ2 := r), √æ0)] = r
        return ·êß1d526·êß
    ·êß1d54a·êß(('T_root', *·¥ç(Œ∂(nmp ** LITERAL_OPS_['+'], r ** LITERAL_OPS_['+']), ·êß1d461·êß)))
    ·êß1d411·êß = ·¥ç(·êß1d411·êß, lambda x, *·êß1d538·êß, **·êß1d542·êß: (x[0], *·¥ç(x[1:], lambda x, *·êß1d538·êß, **·êß1d542·êß: ·êßf0445·êß['I'](r ** LITERAL_OPS_['-'], ·êßf41e·êß(LITERAL_OPS_['=='])(x[0])) if ·êπ(x, ·êß1d461·êß) else x)))
    return ·êß2135·êß[·êß1d411·êß] | nmp

def parse_to_tree(·êß1d445·êß, ·êß212d·êß, *·êß1d538·êß, show_table=·êß2717·êß, raise_failed=·êß2713·êß):
    if ·êß1f0cc·êß(·êß1d538·êß) == 2:
        œá, Œπ = ·êß1d538·êß
    else:
        œá, Œπ = (0, ·êß1d538·êß[0])
        if show_table:
            show_cache_table(·êß1d445·êß, ·êß212d·êß)
    rec = ·êßf41e·êß(parse_to_tree)(·êß1d445·êß, ·êß212d·êß, raise_failed=raise_failed)
    Œ≥, *C = ·êß1d445·êß[Œπ]
    if Œπ not in (·êß1d520·êß := ·êß212d·êß[œá]):
        return (Œ≥, f'‚Äº‚àÑ‚Äº')
    ·êß1d454·êß, ·êß1d74c·êß, *·êß1d434·êß = ·êß1d520·êß[Œπ]
    # ·êß2a33·êß(not raise_failed or ·êß1d454·êß, f'Failed to parse tree!')
    if Œ≥ == '‚àß':
        o = []
        for r in C:
            o.append(rec(œá, r))
            if r not in (·êß1d520·êß := ·êß212d·êß[œá]):
                break
            œá = ·êß1d520·êß[r][1]
        return (Œ≥, *o)
    if Œ≥ == '·îê':
        return (Œ≥, C[0])
    if not ·êß1d434·êß and Œ≥ in {*f'‚à®*+~‚Üê?'}:
        return (Œ≥, f'‚Äº‚àÖ‚Äº')
    if Œ≥ == '~':
        return (Œ≥, ·êß1d434·êß[0].group(0))
    if Œ≥ == '‚à®':
        return (Œ≥, rec(œá, C[·êß1d434·êß[0]]))
    if Œ≥ == '‚Üê':
        return (Œ≥, C[0], rec(œá, ·êß1d434·êß[0]))
    if Œ≥ == '?':
        return (Œ≥, *(·êß1d434·êß[0] and ·êß26f6·êß['T'](rec(œá, C[0])) or ()))
    if Œ≥ in {*'*+'}:
        return (Œ≥, *·¥ç(·êß1d434·êß[0], ·êßf41e·êß(rec)(·êß2b24·êß, C[0])))
    if Œ≥ in {*'‚úì‚úó'}:
        return (Œ≥,)
    return (Œ≥.removeprefix('_'), rec(œá, C[0]))

def chop_tree(·êßf1055·êß, ·êß1d437·êß, remove_trashes=·êß2713·êß, remove_failed_questions=·êß2713·êß, remove_lookaheads=·êß2713·êß):
    pops = f'‚àß‚à®‚úì‚úó*+‚ùó‚†∂' + '?' * remove_failed_questions + '‚Æû¬¨' * remove_lookaheads
    
    def reform_str(·êßf1055·êß):
        ·êßf1055·êß.t, ·êßf1055·êß.c, ·êßf1055·êß.e.T = (·êßf1055·êß.c[0].t, [], ·êß2713·êß)
        return ·êßf1055·êß
    ·êßf1055·êß.ftrp('·îê~', reform_str)
    if remove_trashes:
        ·êßf1055·êß = ≈É.filter(·êßf1055·êß, lambda x, *·êß1d538·êß, **·êß1d542·êß: x.e.T or x.t != '\U000f01b4')

    def splat(·êßf1055·êß):
        ∆í = lambda x, *·êß1d538·êß, **·êß1d542·êß: Œ£(·¥ç(x, lambda x, *·êß1d538·êß, **·êß1d542·êß: x.c), []) if x.t == '‚†∂' else x.c
        ·êßf1055·êß.c = Œ£(·¥ç(·êßf1055·êß, lambda x, *·êß1d538·êß, **·êß1d542·êß: ∆í(x) if (·êπ(x, ≈É) and (not x.e.T)) and x.t in pops else ·êß26f6·êß(x)), [])
        return ·êßf1055·êß
    ·êßf1055·êß.frp(lambda x, *·êß1d538·êß, **·êß1d542·êß: not x.e.T, splat, pre=·êß2713·êß)

    def get_txt(·êßf1055·êß):
        l = []
        ·êßf1055·êß.frp(lambda x, *·êß1d538·êß, **·êß1d542·êß: x.e.T, lambda x, *·êß1d538·êß, **·êß1d542·êß: ·êß25ba·êß(l.append(x.t), x), pre=·êß2713·êß)
        return Œ£(l, ·ê¶)
    ·êßf1055·êß.ftrp('∆®', lambda x, *·êß1d538·êß, **·êß1d542·êß: ≈É(get_txt(x), e=·êß2135·êß(T=·êß2713·êß)))
    
    # print("chop chop'd"), print(·êßf1055·êß.P()), print()
    
    def set_arrows(·êßf1055·êß):
        if ·êßf1055·êß.e.T:
            return
        for i, c in ·êß21a8·êß(·êßf1055·êß):
            if c.t == '‚Üê':
                ·êßf1055·êß.e[c[0].t] = ·êßf1055·êß[i] = c[1]
            set_arrows(c)
    set_arrows(·êßf1055·êß)
    
    return ·êßf1055·êß
parse_to_node = lambda ·êßf1055·êß, *·êß1d538·êß, **·êß1d542·êß: (∆í := (lambda x, *·êß1d538·êß, **·êß1d542·êß: ≈É(x, *·¥ç(·êß1d538·êß, lambda x, *·êß1d538·êß, **·êß1d542·êß: ∆í(*(x if ·êπ(x, ·êß1d461·êß) else ·êß26f6·êß['T'](x)))))))(*·êßf1055·êß)

class Peggle2:
    # __slots__ = ·êß236d·êß(f'rules\u2009R')

    def __init__(·êß1d54a·êß, g):
        if ·êπ(g, Peggle2):
            ·êß1d54a·êß.rules, ·êß1d54a·êß.R = g.rules, g.R
        else:
            ·êß1d54a·êß.rules, ·êß1d54a·êß.R = g, make_rules(g)

    def __repr__(·êß1d54a·êß):
        return f'{·êπ(NULL, ·êß1d54a·êß).__name__}[{·êß1f0cc·êß(·êß1d54a·êß.rules)} Rules, {·êß1f0cc·êß(·êß1d54a·êß.R.T_root)} Normalized]'

    def __contains__(·êß1d54a·êß, x):
        return x in ·êß1d54a·êß.rules

    def __or__(·êß1d54a·êß, h, allow_conflict=·êß2717·êß):
        if ·êπ(h, ·êß1d54a·êß):
            h = h.rules
        conflict = ·êß2229·êß(·êßeba6·êß(·êß1d54a·êß.rules.keys), ·êßeba6·êß(h.keys))
        ·êß2a33·êß(not (allow_conflict and conflict), f'Conflicting rules! {conflict}')
        return ·êπ(NULL, ·êß1d54a·êß)(Peggle2(·êß1d54a·êß.rules | h))

    def __call__(·êß1d54a·êß, content, rule='main', DEBUG=·êß2717·êß, chop=·êß2713·êß, **·êß1d542·êß):
        ·êß2a33·êß(not DEBUG, 'Not implemented.')
        c, r = (content, rule)
        root, rule = (·êß1d54a·êß.R.T_root, ·êß1d54a·êß.R[r])
        ·êß212d·êß = parse(c, root, rule)
        ·êßf1055·êß = parse_to_node(parse_to_tree(root, ·êß212d·êß, rule))
        ·êß1d4b8·êß = lambda *·êß1d538·êß, **·êß1d542·êß: chop_tree(·êßf1055·êß, c, **·êß1d542·êß)
        return ·êßeba6·êß(·êß1d4b8·êß) if chop else ·êß2135·êß(table=·êß212d·êß, tree=·êßf1055·êß, chop=·êß1d4b8·êß)

    def print_rules(·êß1d54a·êß):
        Íüø(·êßeba6·êß(·êß1d54a·êß.rules.items), lambda x, y, *·êß1d538·êß, **·êß1d542·êß: (·êß263e·êß(f'{x}:'), ·êß263e·êß(y)))

    def print_normalized(·êß1d54a·êß):
        Íüø(·êß21a8·êß(·êß1d54a·êß.R.T_root), lambda x, y, *·êß1d538·êß, **·êß1d542·êß: ·êß263e·êß(f'{x}\t{' '.join(·¥ç(y, ·îê))}'))
__exports__ = (Peggle2,)
from node import Node

def peggle122(rules):
    def ∆í(x):
        if x.t == '‚Üê':
            return (x.t, x[0].c, ∆í(x[1]))
        if x.t == 'rname':
            return ('_' * (x.c not in '‚úì‚úó') + x.c,)
        return (x.t, *(·¥ç(x.c, ∆í) if x.L else (x.c,)))
    return Íüø['V'](·êß2135·êß(rules), lambda x, y, *·êß1d538·êß, **·êß1d542·êß: ∆í(y))

def peggle221(·êßf1055·êß):

    def ∆í(·êßf1055·êß):
        s = ·êß2135·êß()
        for k, v in ·êßf1055·êß.e:
            if k == 'T':
                return Node(c=·êßf1055·êß.t)
            s[·êßf1055·êß.c.index(v)] = k
        c = ·¥ç(·êßf1055·êß, ∆í)
        for i, v in s:
            c[i].e = v
        return Node(·êßf1055·êß.t, c)
    ·êßf1055·êß = ∆í(·êßf1055·êß)
    return ·êßf1055·êß.find_replace(lambda x, *·êß1d538·êß, **·êß1d542·êß: (·êß1f0cc·êß(x) == 1 and ·êπ(x.c[0], Node)) and (not x.c[0].t), lambda x, *·êß1d538·êß, **·êß1d542·êß: x.copy(c=x.txt))

class ForcefeedPeggle1Peggle2(Peggle2):
    def __init__(·êß1d54a·êß, x):
        if ·êπ(x, Peggle2):
            super().__init__(x)
        else:
            super().__init__(peggle122(x))

    def __call__(·êß1d54a·êß, *·êß1d538·êß, **·êß1d542·êß):
        return peggle221(super().__call__(*·êß1d538·êß, **·êß1d542·êß))

    def __or__(·êß1d54a·êß, x):
        return super().__or__(peggle122(x))
GRANDMA_RULES = ·êß25ba·êß((≈ï := (*map(re.compile, ('[\ueb26#][^\\n]*', '[‚ØÖ‚ØÜ‚ñ≥‚ñΩ‚Ü∑]', '"(‚êõ.|[^"])*"', "'(‚êõ.|[^'])*'", '‚Äπ(‚êõ.|[^‚Ä∫])*‚Ä∫', '[^‚ØÖ‚ØÜ‚ñ≥‚ñΩ‚Ü∑\U000f01b4()?‚ùó‚Æû.:‚†∂∆®‚úó+*=¬¨‚à®‚àß~‚Äπ#\ueb26\'" \\t\\n]+|‚úó', '[\U000f01b4‚ùó‚Æû‚†∂∆®~¬¨]', '[*+?]', '([ \\t]|‚êõ\\n)+', '([ \\t\\n]|‚êõ\\n)+')),)), ·êß2218·êß(·êß2135·êß, {'statements': ('‚à®', ('‚àß', ('?', ('_W',)), ('*', ('‚àß', ('‚à®', ('_comment',), ('_elm_o',)), ('?', ('_W',)))))), 'comment': ('‚à®', ('~', ≈ï[0])), 'elm_o': ('‚à®', ('‚àß', ('_elm_a',), ('*', ('‚àß', ('?', ('_W',)), ('·îê', '‚à®'), ('?', ('_W',)), ('_elm_a',))))), 'elm_a': ('‚à®', ('‚àß', ('_elm_j',), ('*', ('‚àß', ('‚à®', ('‚àß', ('?', ('_W',)), ('·îê', '‚àß'), ('?', ('_W',))), ('?', ('_w',))), ('_elm_j',))))), 'elm_j': ('‚à®', ('__elm_j',), ('_elm',)), '_elm_j': ('‚à®', ('‚àß', ('_elm',), ('?', ('_W',)), ('~', ≈ï[1]), ('?', ('_W',)), ('‚à®', ('__elm_j',), ('_elm',)))), 'elm': ('‚à®', ('‚àß', ('_prefix',), ('‚à®', ('_assign_eql',), ('_assign_cln',), ('_group',), ('_str',), ('_rname',)), ('_suffix',))), 'assign_eql': ('‚à®', ('‚àß', ('_rname',), ('?', ('_W',)), ('·îê', '='), ('?', ('_W',)), ('_elm_o',))), 'assign_cln': ('‚à®', ('‚àß', ('_rname',), ('?', ('_W',)), ('·îê', ':'), ('?', ('_W',)), ('_elm_j',))), 'group': ('‚à®', ('‚àß', ('·îê', '('), ('?', ('_W',)), ('_group_inner',), ('·îê', ')'))), 'group_inner': ('‚à®', ('*', ('‚àß', ('_elm_o',), ('?', ('_W',))))), 'str1': ('‚à®', ('~', ≈ï[2])), 'str2': ('‚à®', ('~', ≈ï[3])), 'str3': ('‚à®', ('~', ≈ï[4])), 'str': ('‚à®', ('_str1',), ('_str2',), ('_str3',)), 'rname': ('‚à®', ('~', ≈ï[5])), 'prefix': ('‚à®', ('‚àß', ('?', ('_w',)), ('+', ('‚àß', ('~', ≈ï[6]), ('?', ('_W',))))), ('?', ('_w',))), 'suffix': ('‚à®', ('‚àß', ('+', ('‚àß', ('?', ('_W',)), ('~', ≈ï[7]))), ('?', ('_w',))), ('?', ('_w',))), 'w': ('‚à®', ('~', ≈ï[8])), 'W': ('‚à®', ('~', ≈ï[9]))}))
BOOTSTRAP = Peggle2(GRANDMA_RULES)
BOOTSTRAP_PEGGLE1 = ForcefeedPeggle1Peggle2(BOOTSTRAP)
# print(BOOTSTRAP_PEGGLE1.rules)
# print(BOOTSTRAP_PEGGLE1.R)
# print(BOOTSTRAP.R)
# print(BOOTSTRAP.rules)

if __name__ == '__main__':
    RULE = 'statements'
    CONTENT = '\n    main    = \U000f01b4W? (entry \U000f01b4W?)*\n    entry   = (\n        ∆®(section=\U000f01b4\'[\' wrd \U000f01b4\']\') \U000f01b4W?\n        (pair = (\n            (bruh:key = ‚†∂wrd) \U000f01b4(w? ‚Ü∑ \'=\')\n            (value = (wrd ‚à® str)+) \U000f01b4W? ) )* )\n    str     = ~‚Äπ"[^"]+"‚Ä∫\n    wrd     = ~‚Äπ[-\\w]+‚Ä∫\n    w       = ~‚Äπ[ \\t]+‚Ä∫\n    W       = ~‚Äπ[ \\t\\n]+‚Ä∫\n    '
    ·êß263e·êß(BOOTSTRAP)
    ·êßf1055·êß = BOOTSTRAP(CONTENT, RULE)
    ·êß263e·êß('FINISHED')
    ·êß263e·êß(·êßeba6·êß(·êßf1055·êß.P))