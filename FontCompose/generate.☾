î¬¦ ó°¤± lol

ğ”¦ğ”ªğ”­âˆ˜â›s ; ldirî®¦
ó°‹º(â€¹shutâ€º)

ğ‘ = â¥Œx,y=â–¡â†¦â€¹Running command: "âŸ¦ğ˜€.joinâ†xâŸ§"â€ºâ˜¾ â–º (î®¦ á£†Ê¸ ğš²shut)âˆ˜ğš²subprocess.runâ†x
âŠ¢ config_font_and_compose(
        check_reclone=â´³,
        enabled_stages=â€¹Nerdâ€‰CustomSymbolsâ€ºâ­,
        fold = â€¹Outputâ€ºâ¥‰ğ©â†’.resolveî®¦):
    xcompose_out = fold / ".XCompose"

    Â¿check_reclone: â€¹shâ€‰ShellScripts/cloneRepos.shâ€ºâ­â¥‰ğ‘

    stages = {}
    âŠ¢ stage1(fi, fo):
        â€¹python3.12â€‰FontPatcher/font-patcherâ€‰--carefulâ€‰--monoâ€‰â€ºâ›
        â€¹--completeâ€‰--has-no-italicâ€‰--outâ€‰âŸ¦foldâŸ§â€‰--nameâ€‰JuliaMonoâ€‰â€ºâ›
        â€¹âŸ¦fiâŸ§â€ºâ­â¥‰ğ‘
        os.rename(fold / "JuliaMono-Regular.ttf", fo)
    stages["Nerd"] = stage1

    âŠ¢ stage2(fi, fo):
        f2 = fold / â€¹..â€º / â€¹customSymbols.ttfâ€º â†’ .resolveî®¦
        î¬¦ f3 = â€¹/tmp/emoji/static/NotoEmoji-Regular.ttfâ€ºâ¥‰ğ© î¬¦ doesn't work w/ fontforge or fonttools ó°‚-ó°‚‚
        ğ‘(â€¹fontforgeâ€‰ShellScripts/mergeFonts.ffâ€‰âŸ¦fiâŸ§â€‰âŸ¦f2âŸ§â€‰âŸ¦foâŸ§â€ºâ­, â´³)
    stages["CustomSymbols"] = stage2

    î¬¦ ğ’, sub, sup, mul = get_new_chars(force_include, no_scale, multichars, ignore_scripts, special_symkeys)
    î¬¦ âŠ¢ stage3():
    î¬¦     xcompose_out.open(â›w).write(xcompose_from_seqsâˆ˜ğ’)
    î¬¦     save_puaî®¦
    î¬¦ stages["Compose"] = stage3
    î¬¦ stage3.no_font = â´³
    
    î¬¦ âŠ¢ stage4(fi, fo):
    î¬¦     ó°‹º(â ¤â€¹multisupersubscriptifyâ€‰load_fontâ€‰save_fontâ€‰add_scriptâ€‰add_multicharâ€ºâ­)
    î¬¦     ğ’» = load_font(fi)
    î¬¦     sub êŸ¿ó°²© add_script   (ğ’», x, y, z, â›b, v)
    î¬¦     sup êŸ¿ó°²© add_script   (ğ’», x, y, z, â›p, v)
    î¬¦     mul êŸ¿ó°²§ add_multichar(ğ’», x, y, z)
    î¬¦     save_font(ğ’», fo)
    î¬¦ stages["Multisupersubscriptified"] = stage4

    font = â€¹JuliaMono/JuliaMono-Regular.ttfâ€ºâ¥‰ğ©â†’.resolveî®¦
    shutil.copy(font, font â‰” fold / name â‰” font.name)
    
    âˆ€s,Æ’âˆˆstages.itemsî®¦:
        Â¿hasattr(Æ’, "no_font"):
            Æ’î®¦
            â†º
        fo = fold / â€¹âŸ¦font.stemâŸ§_âŸ¦sâŸ§âŸ¦font.suffixâŸ§â€º
        Â¿sâˆˆenabled_stages:
            â€¹Running stage âŸ¦sâŸ§, "âŸ¦fontâŸ§" â†¦ "âŸ¦foâŸ§"â€ºâ˜¾
            Æ’(font, fontâ‰”fo)
        â¸˜fo.existsî®¦:
            â€¹Stage âŸ¦sâŸ§ disabled, but using previous result âŸ¦fontâ‰”foâŸ§â€ºâ˜¾
    î¬¦ shutil.copy(font, fold / â€¹99_âŸ¦nameâŸ§â€º)

Â¿__name__â‰¡"__main__":
    fold = â€¹Outputâ€ºâ¥‰ğ©â†’.resolveî®¦
    cfac = ó°²¡config_font_and_compose(enabled_stages=xâ­, fold=fold)
    match sys.argvğŸƒŒ>1âˆ§sys.argvâ‚âˆ¨(fold.globâˆ˜"*Nerd*"â¥‰ğ‘™â†’âˆ§"medium"âˆ¨"full"):
        case "compose": cfacâ†â€¹Composeâ€º
        case  "medium": cfacâ†â€¹CustomSymbolsâ€‰Composeâ€‰Multisupersubscriptifiedâ€º
        case    "full": cfacâ†â€¹Nerdâ€‰CustomSymbolsâ€‰Composeâ€‰Multisupersubscriptifiedâ€º