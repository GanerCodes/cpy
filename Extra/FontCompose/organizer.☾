 partition pua
 sup/sub partitioning

𝔦𝔪𝔭∘␛s

cmsr = 󰋺(⠤‹composer symmap generate_compose›⍭)

⨡ json
⮌ platform ⨡ uname
⮌ random ⨡ randint, seed
seed∘uname₁

pua = 0x100000 ⋄ 0x10FFFD  we own this plane

puaΔ = pua₀ + randint(0, puaᴙ ≺- →⋅.9 ⥉ 𝑖)
o≔pua₀⋄puaΔ⋄pua₁ ᴍhex →►← ‹Offset: ⟦o₀⟧ ≤ ⟦o₁⟧ < ⟦o₂⟧›☾

pua_fold = 𝐩𝐝 / ‹PuaMaps›
lm≔{} →►← pua_maps_in ≔ 𝑙∘pua_fold.glob("*.json") ␛
            →ᴍ 󰲡json.load(x.open) ␛
                →ᴍᴷ󰲡x.split∘␛| ᴍ󰲡𝑖(x,16)󰅂 ⥉𝑡󰅂 ␛
                →.items ꟿ󰲣x₀…x₁ζy ꟿ⥌l,c↦
                (c≡lmₗ ⨳ ‹⟦c⟧→⟦l⟧←⟦lmₗ⟧›) ¿l∈lm¡ lmₗ≔c
ml = lm ꟿᴰ 󰲣(y,x)

⊢ pua_conseq(𝔡):  ᔐs to be together
    global lm, ml
    𝔡 󰈳= 󰲡x∈ml
    𝕏 = puaΔ-1
    ➰𝕏+=1:
        ¿¬𝕏 ≔ (I ≔ 𝔡⭥ᴍ󰲡𝕏+x) 󰑅 󰲡x∈lm󰅂: ⇥
    lm |= 𝑑←Iζ𝔡
    ml |= 𝑑←𝔡ζI
    ↪ lm, ml

to_ranges = lm↦[
        s ≔ lm 󰒼 → ₀,
       ⠤s ᙧ 0⋄1 ꟿ󰲣x+1≠y∧(x+1,y)󰅂 󰈲⟤ Σ(),
        s₋₁+1
    ] ᙧ¹ ꟿ󰲣((x,y), x…yᴍ󰲡lmₓ󰅂)󰅂 ⥉ 𝑑

⊢ save_pua():
    lms = to_ranges(lm) ꟿᴷ󰲣‹⟦hex(x)⟧|⟦hex(y)⟧›
    t = time⋅100 ⥉𝑖
    pua_maps_in ᴍ 󰲡x.rename(pua_fold / ‹Old› / ‹⟦t⟧_⟦x.name⟧›)
    json.dump(lms, pua_fold / ‹pua_log.json›→.open∘␛w)
    ↪ lms

get_codepoints = ⥌C, p↦
    c ≔ pua_conseq(L≔Cᴍ󰲡‹⟦p⟧_⟦x⟧›)₁ ␛
    →►← Cζ(Lζ←cᴍ󰲡x∈L∧cₓ󰅂󰈲) ⥉𝑑

⊢ get_new_chars(force_include, no_scale, multichars,
                ignore_scripts, special_symkeys):
    𝒞 = generate_compose(no_write=ⴳ)
    𝒞☾
    exit
    
    ℭ = 𝒞.items 󰈲󰲡x₁🃌≡1󰅂 ꟿ󰲣(y,x)󰅂 ⥉ 𝑑
    
    get_seq = 󰲡ℭₓ ¿x∈ℭ¡ (x ¿x∈symmap¡ □)
    
    scripts = ℭ ∖ ignore_scripts ∪ special_symkeys
    sub = get_codepoints(scriptsᴍ󰲡x₀, "sub")
    sup = get_codepoints(scriptsᴍ󰲡x₀, "sup")
    mul = get_codepoints(multichars , "mul")
    
    sub = sub ꟿᴰ󰲣(x, (⠤y, "/"⋅(2-←x∈special_symkeys)+get_seq(x)))
    sup = sup ꟿᴰ󰲣(x, (⠤y, "/"⋅(2-←x∈special_symkeys)+get_seq(x)))
    mul = mul ꟿᴰ󰲣(x, (⠤y, ⋀(K ≔ x ᴍ get_seq) ∧ (x,Kᴍ󰲡x+␛𝕊󰅂Σᐦ)))󰅂
    mul☾
     sub☾
     sup["?"]☾
    
     mul☾
     sub☾
     mulcomp = multicharsᴍ󰲡⋀(K ≔ x ᴍ get_seq) ∧ (x,Kᴍ󰲡x+␛𝕊󰅂Σᐦ)󰅂 󰈲
    
get_new_chars(
    force_include =
        ‹ƇƊҒႺꝈⱮⴽ𝖲ƬѴӍℓ℘ϲ≁≢｜│＋／＼＃＞＜ƨƧ♺↋↊Z⅄XMΛ┴SɹQԀONW˥ʞIHפℲƎpƆqzʎxʍʌnʇsɹbdouɯlʞɾᴉɥƃɟǝpɔqɐ𝝤𝝦𝝧𝝩𝝪𝝬𝝾𝞊𝞌𝞎𝞏𝞐𝞑𝞒𝞓𝜵𝞕𝞖𝞗𝞘𝞙𝞚𝞛𝞜𝞝𝞞𝞟𝞠𝞡𝞢𝞣𝞤𝞥𝞦𝞧𝞨𝞩𝞪𝞫𝞬𝞭𝞮𝞯𝞰𝞱𝞲𝞳𝞴𝞵𝞶𝞷𝞸𝞹𝞺𝞻𝞼𝞽𝞾𝞿𝟀𝟁𝟂𝟃𝟄𝟅𝟆𝟇𝟈𝟉𝓐𝓑𝓒𝓓𝓔𝓕𝓖𝓗𝓘𝓙𝓚𝓛𝓜𝓝𝓞𝓟𝓠𝓡𝓢𝓣𝓤𝓥𝓦𝓧𝓨𝓩𝓪𝓫𝓬𝓭𝓮𝓯𝓰𝓱𝓲𝓳𝓴𝓵𝓶𝓷𝓸𝓹𝓺𝓻𝓼𝓽𝓾𝓿𝔀𝔁𝔂𝔃🄰🄱🄲🄳🄴🄵🄶🄷🄸🄹🄺🄻🄼🄽🄾🄿🅀🅁🅂🅃🅄🅅🅆🅇🅈🅉АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯабвгдежзийклмнопрстуфхцчшщъыьэюяΑΒΕΖΗΙΚΛΜΝΟΡΤΥο《》｟｠〔〕【】⥏⥑⥜⥠⥝⥡⦋⦌⢨⡅£֍⫾∥𝜋☃∛∜Ø⨄⋒⩀⨆∬∭⨌∮∯∰∱⨑∲∳⨕⨖æÆ↮⋉⋊⨲⋈≀⁒╱♭⫚ѵ¶₀⁰₁¹ₙⁿᵢⁱⱼᶨₖᵏ⋎⋏⩄⩅⩑⩒⩓⩔⩕⩖⩙⩚⩛⩜⩝⩞⩟⩠⩢⩣›,
    no_scale =
        ‹␛‹␛›⑴⑵⑶⑷⑸⑹⑺⑻⑼⒜⒝⒞⒟⒠⒡⒢⒣⒤⒥⒦⒧⒨⒩⒪⒫⒬⒭⒮⒯⒰⒱⒲⒳⒴⒵🄐🄑🄒🄓🄔🄕🄖🄗🄘🄙🄚🄛🄜🄝🄞🄟🄠🄡🄢🄣🄤🄥🄦🄧🄨🄩⓪①②③④⑤⑥⑦⑧⑨ⓐⓑⓒⓓⓔⓕⓖⓗⓘⓙⓚⓛⓜⓝⓞⓟⓠⓡⓢⓣⓤⓥⓦⓧⓨⓩⒶⒷⒸⒹⒺⒻⒼⒽⒾⒿⓀⓁⓂⓃⓄⓅⓆⓇⓈⓉⓊⓋⓌⓍⓎⓏ🅐🅑🅒🅓🅔🅕🅖🅗🅘🅙🅚🅛🅜🅝🅞🅟🅠🅡🅢🅣🅤🅥🅦🅧🅨🅩♼⑩⑪⑫⑬⑭⑮⑯⑰⑱⑲⑳·«»↾↿⇂⇃🢔🢖…𝄽⟎⟏⨇⨈✇☮߷♳♴♵♶♷♸♹≃~⋄◌⟐♢↔☺☹♡⛥✡𝌃𝌂*♲✍⟷⭠⭢←→↖↗↙↘🡹🡻🡸🡺🡼🡽🡿🡾⟵⟶⇜⇝⋯⬅⎊⎉⌾⊖⨸⊗⊕⬡⨁⨂⋅•⬤∘⊙⨀○⭗～∗⨯×□⨉－─⟺✓✗∞≖󷹯󷹭󷹮󷹰›,
    multichars =
        "𝓵𝓷 𝓵𝓰 𝘁𝗿 𝗦𝗟 𝗚𝗟 𝗿𝗸 𝘀𝘁 𝗪⁵ 𝗘𝗻𝗱 𝗔𝘂𝘁 𝗚𝗮𝗹 𝗸𝗲𝗿 𝓵𝓸𝓰 𝘀𝗶𝗻 𝗰𝗼𝘀 𝘁𝗮𝗻 𝘀𝗲𝗰 𝗰𝘀𝗰 𝗰𝗼𝘁 𝗔𝘀𝘀 𝗮𝗿𝗴 𝗺𝗶𝗻 𝗺𝗮𝘅 𝗲𝘅𝗽 𝗱𝗶𝘃 𝗱𝗲𝘁 𝗱𝗲𝗴 𝗲𝗿𝗳 𝗶𝗻𝘁 𝗴𝗰𝗱 𝗹𝗰𝗺 𝗵𝗼𝗺 𝗼𝗯𝗷 𝗹𝗶𝗺 𝗶𝗻𝗳 𝘀𝘂𝗽 𝗺𝗼𝗱 𝗣𝗚𝗟 𝗣𝗦𝗟 𝘀𝗴𝗻 𝘁𝗼𝗿 𝘄𝗿𝘁 𝗪𝗧𝗦 𝗪𝗧* 𝘃𝗮𝗿 𝘀𝘁𝗱 𝗰𝗼𝘃 𝗦𝗣𝗘𝗖 𝗦𝗜𝗡𝗛 𝗖𝗢𝗦𝗛 𝗧𝗔𝗡𝗛 𝗦𝗘𝗖𝗛 𝗖𝗦𝗖𝗛 𝗖𝗢𝗧𝗛 𝗖𝗛𝗔𝗥 𝗖𝗨𝗥𝗟 𝗙𝗥𝗢𝗕 𝗚𝗥𝗔𝗗 𝗥𝗔𝗡𝗞 𝗦𝗣𝗔𝗡 𝗪𝗟𝗢𝗚 𝗘𝗥𝗙𝗖 𝗠𝗘𝗠𝗘 𝗡𝗨𝗟𝗟 𝗩𝗢𝗜𝗗 𝗖𝗢𝗥𝗥"⍭,
    ignore_scripts =
        ‹abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZαβγδεζηθικλμνξπρςστυφχψωΓΔΘΞΠΣΦΨΩ0123456789,<>;+-/*=(){}[]⊥∞›,
    special_symkeys = ‹?!/&$%:›
)☾

 get_codepoints(["a", "bl", "c"], "sub")☾
 save_pua☾