î¬¦ partition pua
î¬¦ sup/sub partitioning

ğ”¦ğ”ªğ”­âˆ˜â›s
â¨¡ json
â®Œ platform â¨¡ uname
â®Œ random â¨¡ randint, seed
seedâˆ˜unameî®¦â‚

pua = 0x100000 â‹„ 0x10FFFD î¬¦ we own this plane

puaÎ” = puaâ‚€ + randint(0, puaá´™ â‰º- â†’â‹….9 â¥‰ ğ‘–)
oâ‰”puaâ‚€â‹„puaÎ”â‹„puaâ‚ á´hex â†’â–ºâ† â€¹Offset: âŸ¦oâ‚€âŸ§ â‰¤ âŸ¦oâ‚âŸ§ < âŸ¦oâ‚‚âŸ§â€ºâ˜¾

lmâ‰”{} â†’â–ºâ† pua_maps_in â‰” ğ©(â€¹PuaMapsâ€º).glob("*.json") â›
            â†’á´ ó°²¡json.load(x.openî®¦) â›
                â†’á´á´·ó°²¡x.splitâˆ˜â›| á´ó°²¡ğ‘–(x,16)ó°…‚ â¥‰ğ‘¡ó°…‚ â›
                â†’.itemsî®¦ êŸ¿ó°²£xâ‚€â€¦xâ‚Î¶y êŸ¿â¥Œl,câ†¦
                (lmâ‚—â‰¡l â¨³ â€¹âŸ¦câŸ§â†’âŸ¦lâŸ§â†âŸ¦lmâ‚—âŸ§â€º) Â¿lâˆˆlmÂ¡ lmâ‚—â‰”c
rags = lm.itemsî®¦ ó°’¼ Ïœó°ºâ°ó°±â°ó°» ó°²£1 Â¿yâ‰¡xâ‚+1Â¡ 0ó°…‚ â†’ â‚ï¹•
ragsâ˜¾
exitî®¦
pua_mapping = {
    (0x100000, 0x100004): "áµƒáµ‡á¶œáµ‰",
}
inv_pua_map = pua_mapping.itemsî®¦ êŸ¿ó°²£yá´ zâ†¦(z,x)ó°…‚ó°…‚Î£ â¥‰ ğ‘‘

unsafe = z â†¦ ğ‘˜â‰”(pua_mapping á´ó°²¡(ğ‘—â‰”x)â‚€â‰¤z<xâ‚ âˆ§ ğ‘—ó°…‚ ó°ˆ²) â†’â‹âˆ§ğ‘˜â‚€
âŠ¢ find_pua_spots(â ¤strs):
    î¬¦ input is á”s we want together i.e. ("áµƒáµ‡á¶œ", "Â¹Â²Â³")
    global pua_mapping, inv_pua_map
    âˆ€ğ•¤âˆˆstrs:
        ğ•¤ ó°ˆ³ ó°²¡xâˆˆinv_pua_map
        ğ• = puaÎ”
        â°â´³:
            Â¿ğ• â‰” unsafeâˆ˜ğ•:
                ğ• = ğ•â‚ Â¿ğ•â‚<puaâ‚Â¡ puaâ‚€
                â†º
            ids â‰” ğ•¤ğŸƒŒâ­¥á´ó°²¡ğ•+x
            Â¿z â‰” ids ó°‘… unsafe:
                ğ• = zâ‚
            Â¡: â‡¥
        
        pua_mapping[râ‰”(idsâ‚€, idsâ‚‹â‚)] = ğ•¤
        inv_pua_map |= (ğ•¤á´ó°²¡(x,r)ó°…‚ â¥‰ ğ‘‘)
    
    inv_pua_mapâ˜¾
        
find_pua_spots("Â¹Â²Â³")