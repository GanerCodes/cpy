main = 󰆴Ω? (rule 󰆴Ω?)*
rule = (
    ⠶(head = 
        ( (mac_head = 󰆴('¡' W?) ~‹[^ \t\n⟶]+›)
         ∨(seq_head = ⠶(combo = ⠶(
              (󰆴W? ↷ (
                   (macref = 󰆴"⟨" ƨcombo 󰆴"⟩")
                 ∨ (looper = 󰆴"⟦" ⠶combo 󰆴"⟧")
                 ∨ (concat = 󰆴"⁅" ⠶combo 󰆴"⁆")
                 ∨ (letter = ~‹[^⟨⟩⟦⟧⁅⁆⟶]›) ) )+) ))))
    󰆴(W? ↷ "⟶")
    (body = ((str ∨ ¬Ω ~‹.›) 󰆴w?)+))
str = ⠶ƨ((󰆴'"') ↷ ((~‹[^␛"]› ∨ (󰆴"␛␛" (~‹.?›)))+))
w = ~‹[ \t]+›
W = ~‹[ \t\n]+›
Ω = ~‹[ \t\n␠]+›