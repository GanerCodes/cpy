Â© ASCII_CHARS_STANDARD = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';

Â© âµŒ = l => l.length;
Â© á’ª = A => [â ¤A];
Â© ğ’® = (d, k, v) => (!(k in d) || d[k] === null) ? (d[k] = v) : d[k];
Â© [ğ’ª, ğ’Ÿ, ğ’ªk, ğ’ªv] = [Object.entries, Object.fromEntries, Object.keys, Object.values];
Â© á´ = (l, ğ‘“) => á’ª(l).map(ğ‘“);
Â© á´v = (d, ğ‘“) => ğ’Ÿ(ğ’ª(d).map(([k,v]) => [k,ğ‘“(v)]));
Â© á´k = (d, ğ‘“) => ğ’Ÿ(ğ’ª(d).map(([k,v]) => [ğ‘“(k),v]));
Â© ó±‘¼ = (ğ‘¥, ğ‘¦) => á’ª(ğ‘¥).map((k, i) => [k, ğ‘¦[i]]);

Â© int = Math.floor;
Â© ends = l => l.map((ğ‘¥,i)=>[i==0,ğ‘¥,i==âµŒ(l)-1]);
Â© all = A => A.every(x=>x);
Â© sort = (A,f,r=ğ”½) => A.sort((a,b) => (r ? 1 : -1)*(b > a ? 1 : -1)) // what?
Â© merge = (â ¤o) => Object.assign({}, â ¤o)
Â© range = (a, b) => [â ¤Array(b-a).keys()].map(i => i+a);
Â© print = (â ¤x) => console.log(â ¤x) || x[0]
Â© table = (â ¤x) => console.table(â ¤x) || x[0]
Â© sleep = s => new Promise(r => setTimeout(r, 1000 * s));
Â© strfmt = (str, args) => {
    for (Â© [k, v] of Object.entries(args))
        str = str.replace(new RegExp("\\{" + k + "\\}", "gi"), v);
    return str; };
Â© makeid = (length, chars=ASCII_CHARS_STANDARD) => 
    range(0, length)
        .map(_=>chars.charAt(int(Math.random()*chars.length)))
        .reduce((a,b)=>a+b, '');
Â© groups = (l, ğ‘“) => {
    O = {};
    l.forEach(ğ‘¥ => ğ’®(O, ğ‘“(ğ‘¥), []).push(ğ‘¥))
    return O; }

var objIdMap=new WeakMap, objectCount = 0;
Â© id = object => {
  !objIdMap.has(object) && objIdMap.set(object,++objectCount);
  return objIdMap.get(object); }
    
Â© GID = id => document.getElementById(id);
Â© VAL = id => GID(id).value;
Â© QSA = (sel, e=document) => á’ª(e.querySelectorAll(sel));
Â© SAT = (Îµ, a, v) => Îµ.setAttribute(a, v);

Â© setLocal = (k, v) => localStorage[k] = JSON.stringify(v);
Â© getLocal = (k   ) => JSON.parse(localStorage[k]);

Â© Îµ_clone = Îµ => {
    if(!(Îµ instanceof Node)) return Îµ;
    if(Îµ.tagName == 'F') return Îµ.ğ‘“();
    Â© É™ = Îµ.cloneNode(false);
    ('ğ•¤' in Îµ) && (É™.ğ•¤ = Îµ.ğ•¤);
    if(Îµ instanceof HTMLElement)
        É™.append(â ¤á´(Îµ.childNodes, Îµ_clone));
    return É™; }

Â© ğ¶ = d => {
    Â© cache_specials = ğ•Š => {
        Â© psu = ğ•Š.e.parentElement ?? ó±€[âŸ¦ğ•Š.eâŸ§];
        for(Â© c of psu.querySelectorAll("[T]")) {
            if('ğ•¤' in c) continue;
            ğ•Š[ğ•Š.ğ´[id(c)] = c.getAttribute('T')] = c;
            c.removeAttribute('T'); }
        for(let c of psu.querySelectorAll('*')) {
            if('ğ•¤' in c) {
                if(!('ğ‘ƒ' in c.ğ•¤)) c.ğ•¤.ğ‘ƒ = ğ•Š;
                continue; }
            c.ğ•¤ = ğ•Š; } }
    Â© ğ‘“ = (â ¤par) => {
        Â© ğ•Š = merge(d, â ¤par);
        á´(ğ’ª(ğ•Š), ([k,Îµ]) => (Îµ instanceof Node) && (ğ•Š[k] = Îµ_clone(Îµ)));
        ğ•Š.ğ´ = {};
        ğ•Š.ğ¿ = (ğ•Š, ğ‘¥) => {
            let k = ğ•Š;
            while(k && !(ğ‘¥ in k)) k = k.ğ‘ƒ;
            return k[ğ‘¥]; };
        (ğ•Š.ğ‘… = cache_specials.bind(null, ğ•Š))();
        for(Â© [k, v] of ğ’ª(ğ•Š))
            if(v instanceof Function)
                ğ•Š[k] = v.bind(null, v.isğ¶ ? {"ğ‘ƒ": ğ•Š} : ğ•Š)
        ğ•Š.init();
        return ğ•Š.e; }
    ğ‘“.isğ¶ = true;
    return ğ‘“; };

// â€¹ó±€âœ¨ó±€âœ¨ó±€ topaz notation ó±€âœ¨ó±€âœ¨ó±€â€º
mkÉ™ = â¥Œname, attrs, kidsâ†¦{
    Â© remaps = { ğ‘†:"style",ğ¼:"id",ğ¶:"class" };
    Â¿(name === âœ—) name = "div";
    let É™ = document.createElement(name);
    Â¿(attrs) âˆ€(let [k,v] â” ğ’ª(attrs)) É™áµ£â‚‘â‚˜â‚â‚šâ‚›ôŠ¬¶ï¹–ï¹–â‚– = v;
    Â¿(typeof kids === "string") É™.innerText = kids;
    â¸˜(kids instanceof   Array ) kids.forEach(â¥Œğšâ†¦{
        Â¿(typeof ğš === "string") ğš = document.createTextNode(ğš);
        É™.appendChild(ğš);
    });
    // ó°¤± htmlelements/function type/general objects/etc
    â†ª É™; };