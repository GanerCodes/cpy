î¬¦ ó°›”ó°˜¬
î¬¦ Star versions of: ó°ˆ²ó°ˆ³î®†ó°’¼ó°’½ó°‘…ó°‘ó°‘ƒ ?
î¬¦ 10â­¥ á—’Â²+âŸ   âŸ¶   10â­¥á´Â¹â¥ŒâŸâ†¦âŸÂ²+âŸ
î¬¦   5 á—ŒÂ²+âŸ   âŸ¶  (5,)á´â°â¥ŒâŸâ†¦âŸÂ²+âŸ
î¬¦   5 á—ŒÂ²+á— 6 âŸ¶ (5,6)êŸ¿â°â¥ŒâŸ,âŸâ†¦âŸÂ²+âŸ
î¬¦ á—á—• âŸâŸ á—’á—Œ
î¬¦ x â­œ y â­ z

exec â† "from math import *"
ó°†´ factorial, e, pi, tau, sqrt, cbrt, pow
ğ‘œ,ğ‘‘,ğ‘,ğ‘™,ğ‘¡,ğ‘ ,á”,ğ‘–,ğ‘“ = object, dict, bool, list, tuple, set, str, int, float
â®Œ py_naming_tools â¨¡ py_escape_var as PEV
â®Œ functools â¨¡ reduce
â®Œ itertools â¨¡ starmap, filterfalse, product, accumulate, zip_longest

LITERAL_OPS_ = {
      â›âˆ§:ó°²£xâˆ§y,  â›âˆ¨:ó°²£xâˆ¨y,
      â›*:ó°²£xâ‹…y,  â›/:ó°²£x/y,   â›<:ó°²£x <y,  â›>:ó°²£x >y,
      â›|:ó°²£x|y,  â›&:ó°²£x&y,   â›^:ó°²£x ^y,  â›%:ó°²£x %y,
    â›=â›=:ó°²£xâ‰¡y,â›!â›=:ó°²£xâ‰ y, â›<â›=:ó°²£x â‰¤y,â›>â›=:ó°²£x â‰¥y,
    â›/â›/:ó°²£xâ¹y,â›*â›*:ó°²£xâŒƒy, â›<â›<:ó°²£x<<y,â›>â›>:ó°²£x>>y,
      â›+:ğš²+ğ”¸áµ¥ Â¿ğ”¸áµ¥ôŠ®â‚€â‰…â€âˆ¨ğ”¸áµ¥ôŠ®â‚â‰…â€Â¡ ğ”¸â‚€+ğ”¸â‚,
      â›-:ğš²-ğ”¸áµ¥ Â¿ğ”¸áµ¥ôŠ®â‚€â‰…â€âˆ¨ğ”¸áµ¥ôŠ®â‚â‰…â€Â¡ ğ”¸â‚€-ğ”¸â‚,
    "not":ó°²¡Â¬x,
    "is":ó°²£xâ‰…y, "is not":ó°²£xâ‰‡y,
    "in":ó°²£xâˆˆy, "not in":ó°²£xâˆ‰y }

Ã¾STACK = []
GETATTR = ó°²£getattr(x,y)
SETATTR = ó°²¥setattr(x,y,z) âˆ¨ z
GETITEM = ó°²£x.__getitem__(y)
SETITEM = ó°²¥x.__setitem__(y,z) âˆ¨ z
Ã¾PSH, Ã¾POP = ó°²¡Ã¾STACK.append(x)âˆ¨x, ó°²¡Ã¾STACK.pop(x)

OP_DUPER_ = Æ’â†¦ó°²¡Æ’(x,x,â ¤ğ”¸,â ¶ğ•‚) # êœ 
OP_SWAPA_ = Æ’â†¦ó°²£Æ’(y,x,â ¤ğ”¸,â ¶ğ•‚) # áµœ
OP_LNULL_ = Æ’â†¦ó°²¡Æ’(â€,x,â ¤ğ”¸,â ¶ğ•‚) # âŸ¥
OP_RNULL_ = Æ’â†¦ó°²¡Æ’(x,â€,â ¤ğ”¸,â ¶ğ•‚) # âŸ¤
OP_BSTAR_ = Æ’â†¦ó°²¡Æ’(â ¤x ,â ¤ğ”¸,â ¶ğ•‚) # â‰º
NULL = â€ = ğ‘œ()

âœ“,âœ— = True, False
ğ’â„³, ğ’®â„³, ğ—™ = classmethod, staticmethod, callable
á—œ = â–¡ = None
Ï€ = 3.14159265358979323
â„‡ = 2.71828182845904523
Ã® = complex(0, 1)
â†‰ = 0 î¬¦ bruh
Â½,â…“,Â¼,â…•,â…™,â…,â…›,â…‘,â…’ = 1/2,1/3,1/4,1/5,1/6,1/7,1/8,1/9,1/10
â…”,â…– = 2/3,2/5
Â¾,â…—,â…œ = 3/4,3/5,3/8
â…˜ = 4/5
â…š,â… = 5/6,5/8
â… = 7/8
âˆ, á¦, Ï„, ó·º = inf, '', 2â‹…Ï€, Â½â‹…Ï€
ó·±ª, ó·±«, ó·±¬, ó·±­, ó·±® = -Ã®, -â„‡, -Ï„, -Ï€, -ó·º

ğ•, ğ•£ = ó°²¡[â ¤ğ”¸]Â¿xâ‰…â€Â¡[x], ó°²¡xó°ˆ³ó°²¡xâ‰…â€
ğ—œ = is_iter = ó°²¡hasattr(x,"__iter__")

Î© ğ‘ğ‘‘(ğ‘‘):
    âŠ¢ __init__(ğ•Š, Æ’, â ¤ğ”¸, ğ‘”=â–¡, â ¶ğ•‚):
        ğ•Š.Æ’, ğ•Š.ğ‘” = Æ’, ğ‘”
        super().__init__(â ¤ğ”¸,â ¶ğ•‚)
    __call__ = ğ•Šâ†¦ğ•Š.Æ’(â ¤ğ”¸,â ¶ğ•‚)
    __repr__ = ğ•Šâ†¦ğ•Š["__repr__"](ğ•Š)Â¿"__repr__"âˆˆğ•ŠÂ¡super().__repr__()
    __getitem__ = â¥Œğ•Š,xâ†¦super().__getitem__(x) Â¿xâˆˆğ•ŠÂ¡ ğ•Š.ğ‘”(x)
âŠ¢ BINWRAP_(Æ’):
    Î© Ï‰:
        âŠ¢ __call__(ğ•Š, x=â€, y=â€, â ¶ğ•‚):
            Â¿xâ‰…â€: x,y = y,x
            Â¿yâ‰…â€: â†ª Æ’(x, â ¶ğ•‚)
            â†ª Æ’(x,y,â ¶ğ•‚)
        __getitem__ = â¥Œğ•Š,sâ†¦ğš²ğ•Š(â ¤ğ”¸, s=s, â ¶ğ•‚)
    â†ª Ï‰()

â¬¤ = ğ‘œ()
âŠ¢ ïÂ´(Æ’):
    âŠ¢ ğ’»(â ¤ğœ¶,â ¶ğœ¿):
        âŠ¢ ğ‘“(â ¤ğ”¸,â ¶ğ•‚):
            ğ“, ğ”¸ = ğ‘™(ğœ¶), ğ‘™(ğ”¸)
            ğ“š = ğ‘™(ğœ¿.items())
            a, k = [], {}
            â°ğ“:
                x = ğ“.pop(0)
                a.append(ğ”¸.pop(0) Â¿xâ‰¡â¬¤Â¡ x)
            â°ğ“š:
                x, y = ğ“š.pop(0)
                kâ‚“ = ğ”¸.pop(0) Â¿yâ‰¡â¬¤Â¡ y
            â†ª Æ’(â ¤a+ğ”¸,â ¶k|ğ•‚)
        â†ª ğ‘“
    â†ª ğ’»
ï€…Â´ = ğ‘ğ‘‘(tâ‰”Æ’â†¦ğš²Æ’(â ¤ğ”¸á´ğ‘™Î£[], â ¶ğ•‚), ğ‘”=t)

Î© â´³(ğ‘–):
    __new__ = â„‚â†¦ğ‘–.__new__(â„‚,1)
    __call__, __repr__ = ğš²â´³, ğ•Šâ†¦â›â´³
Î© â´´(ğ‘–):
    __new__ = â„‚â†¦ğ‘–.__new__(â„‚,0)
    __call__, __repr__ = ğš²â´´, ğ•Šâ†¦â›â´´
â´³, â´´ = â´³(), â´´()

âŠ¢ ERROR_TRIANGLE(t, Æ’=â€, ğ‘”=â€, ğ‘‡=Exception):
    v = ğ•£((Æ’, ğ‘”))
    Â¿vğŸƒŒâ‰¡1:
        v = vâ‚€
        Â¿tâ‰¡â›ï±: raise v
        âŠ¢ r(â ¤ğ”¸, â ¶ğ•‚):
            try:
                â†ª v(â ¤ğ”¸, â ¶ğ•‚)
            except ğ‘‡ as Îµ:
                Â¿tâ‰¡â›ó°”¶: â†ª ğ”¸â‚€Â¿ğ”¸Â¡â–¡
                Â¿tâ‰¡â›î©¬: â†ª Îµ
    Â¡:
        âŠ¢ r(â ¤ğ”¸, â ¶ğ•‚):
            try:
                â†ª Æ’(â ¤ğ”¸, â ¶ğ•‚)
            except ğ‘‡ as Îµ:
                Â¿tâ‰¡â›ï±: â†ª ğ‘”
                Â¿tâ‰¡â›ó°”¶: â†ª ğ‘”(â ¤ğ”¸, â ¶ğ•‚)
                Â¿tâ‰¡â›î©¬: â†ª ğ‘”(Îµ)
    â†ª r

ï± = ğ‘ğ‘‘(Æ’â‰”ERROR_TRIANGLEï(â›ï±), ğ‘”=ó°²¡Æ’ï(ğ‘‡=x))
ó°”¶ = ğ‘ğ‘‘(Æ’â‰”ERROR_TRIANGLEï(â›ó°”¶), ğ‘”=ó°²¡Æ’ï(ğ‘‡=x))
î©¬ = ğ‘ğ‘‘(Æ’â‰”ERROR_TRIANGLEï(â›î©¬), ğ‘”=ó°²¡Æ’ï(ğ‘‡=x))

âŠ¢ _get_depths(x):
    Â¿Â¬ğ—œ(x): â†ª{0}
    Â¿xá¹á”: â†ª{1}
    â†ª {w+1 âˆ€zâˆˆx âˆ€wâˆˆ_get_depths(z)}
âŠ¢ _map_neg_d(x,y,n): î¬¦ kinda weird ngl
    Â¿xá¹á”: â†ª [y(z) âˆ€zâˆˆx] Â¿Â¬nÂ¡ y(x) Â¿nâ‰¡1Â¡ x
    Â¿0âˆˆdâ‰”_get_depths(x): â†ªx Â¿nÂ¡ y(x)
    x = [_map_neg_d(z,y,n) âˆ€zâˆˆx]
    â†ª y(x) Â¿nâˆˆdÂ¡ x
âŠ¢ _map_pos_d(x,y,i):
    Â¿Â¬i: â†ªy(x)
    Â¿xá¹á”: â†ª[y(z) âˆ€zâˆˆx]
    â†ª [_map_pos_d(z,y,i-1) âˆ€zâˆˆx] Â¿ğ—œ(x)Â¡ y(x)
âŠ¢ _map_d(x,y,n=1):
    Â¿n<0: â†ª_map_neg_d(x,y,-n-1)
    â†ª _map_pos_d(x,y,2Â²â´Â¿nâ‰¡âˆÂ¡n)

âŠ¢ _window(ğ•, l=1, r=1, m=âœ“, s=â–¡, Î”=1): î¬¦ sâ‰ â€ should mean Î”=1 
    c â‰” (ğ• â‰” ğ‘™â†ğ•)ğŸƒŒ
    Â¿sâ‰…â€: â†ª ğ•â­¥â‚—ï¹•î â‚‹áµ£ï¹•ó°ƒá´ó°²¡ğ•â‚“â‚‹â‚—ï¹•â‚“ + ğ•â‚“â›¶â‹…ğ‘(m) + ğ•â‚“â‚Šâ‚ï¹•â‚“â‚Šáµ£â‚Šâ‚
    V = sâ›¶â‹…l +ğ•+ sâ›¶â‹…r
    â†ª ğ•â­¥ï¹•ï¹•ó°ƒá´ó°²¡Vâ‚“ï¹•â‚“â‚Šâ‚— + Vâ‚“â‚Šâ‚—â›¶â‹…ğ‘(m) + Vâ‚“â‚Šâ‚—â‚Šâ‚ï¹•â‚“â‚Šâ‚—â‚Šáµ£â‚Šâ‚

Î© ğ‘ğ‘”:
    __getitem__ = â¥Œğ•Š,zâ†¦ó°²£ğ•Š.Æ’(x,y,z)
    __call__     =â¥Œğ•Š  â†¦ ğ•Š.Æ’(â ¤ğ”¸)
Î© Å¿Â´(ğ‘ğ‘”):Æ’=ğ’®â„³â† â¥Œx,y,z=â€â†¦reduce    (y,x,â ¤(z,)â‹…â†zâ‰‡â€)
Î© ÏœÂ´(ğ‘ğ‘”):Æ’=ğ’®â„³â† â¥Œx,y,z=â€â†¦accumulate(x,y,â ¶{}Â¿zâ‰¡â€Â¡{"initial":z})â¥‰ğ‘™
Î© á™Â´(ğ‘ğ‘”):Æ’=ğ’®â„³â† â¥Œx,y,z=â€â†¦_window(hâ‰”ğ•£â†xâ‹„yâ†’â‚€, â ¤yá¹ğ‘–âˆ§yâ‹„yâˆ¨yÂ¿hğŸƒŒâ‰¡2Â¡    1â‹„1    , âœ—, â–¡Â¿zâ‰…â€Â¡z, 1        )
Î© á™¡Â´(ğ‘ğ‘”):Æ’=ğ’®â„³â† â¥Œx,y,z=â€â†¦_window(hâ‰”ğ•£â†xâ‹„yâ†’â‚€, â ¤yá¹ğ‘–âˆ§yâ‹„yâˆ¨yÂ¿hğŸƒŒâ‰¡2Â¡    1â‹„1    , âœ“, â–¡Â¿zâ‰…â€Â¡z, 1        )
Î© á—¢Â´(ğ‘ğ‘”):Æ’=ğ’®â„³â† â¥Œx,y,z=â€â†¦_window(hâ‰”ğ•£â†xâ‹„yâ†’â‚€, â ¤yá¹ğ‘–âˆ§yâ‹„yâˆ¨yÂ¿hğŸƒŒâ‰¡2Â¡zâ‰…â€âˆ§1â‹„1âˆ¨0â‹„z, âœ—, â€      , zâ‰…â€âˆ§1âˆ¨z+1)
Î© á™§Â´(ğ‘ğ‘”):Æ’=ğ’®â„³â† â¥Œx,y,z=â€â†¦_window(hâ‰”ğ•£â†xâ‹„yâ†’â‚€, â ¤yá¹ğ‘–âˆ§yâ‹„yâˆ¨yÂ¿hğŸƒŒâ‰¡2Â¡zâ‰…â€âˆ§1â‹„1âˆ¨0â‹„z, âœ“, â€      , zâ‰…â€âˆ§1âˆ¨z+1)
Î© ó°¸µÂ´(ğ‘ğ‘”):Æ’=ğ’®â„³â† â¥Œx,y,z=â€â†¦(  (lâ­¥á´(â´´Â¿zâ‰…â€Â¡zÂ¿ğ—™(z)Â¡ğš²z))+x)Â¿(lâ‰”y-xğŸƒŒ)>0Â¡x
Î© ó°¸·Â´(ğ‘ğ‘”):Æ’=ğ’®â„³â† â¥Œx,y,z=â€â†¦(x+(lâ­¥á´(â´´Â¿zâ‰…â€Â¡zÂ¿ğ—™(z)Â¡ğš²z))  )Â¿(lâ‰”y-xğŸƒŒ)>0Â¡x

Î© á´Â´:
    Æ’ = ğ’®â„³(_map_d)
    âŠ¢ __getitem__(ğ•Š, i):
        S, Æ’ = ğ‘ â†i Â¿iá¹ğ‘¡Â¡ (i,), â–¡
        Â¿sâ‰”â›Dâ†’âˆˆS: Æ’ = fâ†¦ó°²£type(x)â†f(x.items(),y)
        â¸˜sâ‰”â›Kâ†’âˆˆS: Æ’ = fâ†¦ó°²£type(x)â†f(x.items(),y)Î¶x.values()
        â¸˜sâ‰”â›Vâ†’âˆˆS: Æ’ = fâ†¦ó°²£type(x)â†x.keys()Î¶f(x.items(),y)
        Â¿Æ’:
            S.discard(s)
            â†ª Æ’(S âˆ§ ğ•Š[S.pop()] âˆ¨ ğ•Š)
        â†ª â¥Œx,y,i=iâ†¦ğ•Š.Æ’(x,y,i)
    __call__ = â¥Œğ•Š,x,yâ†¦ğ•Š.Æ’(x,y,1)
Î© êŸ¿Â´(á´Â´):
    Æ’ = ğ’®â„³(â¥Œx,y,iâ†¦_map_d(x,ó°²¡y(â ¤(xÂ¿ğ—œ(x)Â¡(x,))),i))

Î© âˆšÂ´:
    __getitem__ = â¥Œğ•Š,xâ†¦â¥Œyâ†¦yÂ¹ô‹‘¬Ë£
    __call__ = â¥Œğ•Š,xâ†¦xâŒƒÂ½

âˆšÂ´ = âˆšÂ´()
á´Â´,êŸ¿Â´,Å¿Â´,ÏœÂ´ = á´Â´(),êŸ¿Â´(),Å¿Â´(),ÏœÂ´()
á™Â´,á™¡Â´,á—¢Â´,á™§Â´ = á™Â´(),á™¡Â´(),á—¢Â´(),á™§Â´()
ó°¸µÂ´,ó°¸·Â´ = ó°¸µÂ´(),ó°¸·Â´()

âŠ¢ â¨³Â´(Î±=â€, Î²=â€):
    Â¿Î±â‰…â€: Î±,Î² = Î²,Î±
    assert Î±, "Assertion failed!"Â¿Î²â‰…â€Â¡Î²
    â†ª Î±

âŠ¢ _wherest(ğ•, Æ’=ğ‘, I=â´´):
    Æ’ = Æ’â‰…â€âˆ§ğ‘âˆ¨Æ’
    âˆ€i,xâˆˆâ†¨ğ•:
        Â¿Æ’(x): â†ªi Â¿IÂ¡ x
    â†ª â–¡
á£†Â´ = ğ‘ğ‘‘(Æ’ â‰” ó°²£y(x) Â¿(ğ”¸â‚€ Â¿ğ”¸ğŸƒŒÂ¡ x)Â¡ x, ğ‘”=aâ†¦ó°²£Æ’(x,y,a))
ó°‘…Â´ = ğ‘ğ‘‘(_wherest, I=ğš²_wherest(â ¤ğ”¸,I=âœ“))
ó°‘Â´ = â¥Œğ•,Æ’=ğ‘â†¦â–¡ Â¿â–¡â‰…iâ‰”ğ•ó°‘…á´µÆ’Â¡ ğ•ï¹•áµ¢
ó°‘ƒÂ´ = â¥Œğ•,Æ’=ğ‘â†¦â–¡ Â¿â–¡â‰…iâ‰”ğ•ó°‘…á´µÆ’Â¡ ğ•áµ¢ï¹•
âŠ‚Â´ = ó°²£ğ‘ (x).issubset(ğ‘ â†y)
âŠƒÂ´ = ó°²£ğ‘ (y).issubset(ğ‘ â†x)
âŠŠÂ´ = ó°²£(Î±â‰”ğ‘ â†x).issubset(Î²â‰”ğ‘ â†y) âˆ§ Î±â‰ Î²
âŠ‹Â´ = ó°²£(Î±â‰”ğ‘ â†y).issubset(Î²â‰”ğ‘ â†x) âˆ§ Î±â‰ Î²
âŠ„Â´ = ó°²£Â¬(xâŠ‚y)
âŠ…Â´ = ó°²£Â¬(xâŠƒy)
âˆ‹Â´, âˆŒÂ´ = ó°²£yâˆˆx, ó°²£yâˆ‰x
âˆ£Â´, âˆ¤Â´ = ó°²£gcd(x,y)â‰¡x, ó°²£gcd(x,y)â‰ x
âˆªÂ´ = ó°²£ğ‘ (x) | ğ‘ (y)
âˆ©Â´ = ó°²£ğ‘ (x) & ğ‘ (y)
âˆ–Â´ = ó°²£ğ‘ (x) - ğ‘ (y)
â¨‰Â´ = ğš²product(â ¤vâ‚€ Â¿(1â‰¡ğŸƒŒâ†vâ‰”ğ•£(ğ”¸))Â¡ v)á´ğ‘™
âˆ“Â´ = ğš²[Â¯hâ‚€,+hâ‚€]Â¿(hâ‰”ğ•£(ğ”¸))ğŸƒŒâ‰¡1Â¡[hâ‚€-hâ‚,hâ‚€+hâ‚]
Â±Â´ = ğš²[+hâ‚€,Â¯hâ‚€]Â¿(hâ‰”ğ•£(ğ”¸))ğŸƒŒâ‰¡1Â¡[hâ‚€+hâ‚,hâ‚€-hâ‚]

âŠ¢ á¹Â´(x=â€, y=â€):
    Â¿xâ‰…â€: â†ªtype(y)
    â¸˜yâ‰…â€: â†ªtype(x)
    â†ª isinstance(x, y Â¿isinstance(y,type)Â¡ type(y))
ğŸƒŒ = len
ó°»¾ = ğ‘ğ‘‘(ó°²¡x,ğ‘”=ó°²¡ğ‘ğ‘‘(ğš²x,__repr__=ğš²â€¹ó°»¾[âŸ¦xâŸ§]â€º),__repr__=ğš²â›ó°»¾)
á´™ = ğ‘ğ‘‘(ó°²¡(xÂ¿xá¹á”Â¡ğ‘™(x))ï¹•ï¹•â‚‹â‚, L=ó°²¡ğ‘™(x)ï¹•ï¹•â‚‹â‚) î¬¦ reverse; á´™á´¸ to force ğ‘™
â‰ = ó°²¡Î¶(â ¤x)
â­ = ó°²¡x.split(â›âŸ)á´â­Â´ Â¿â›âŸâˆˆxÂ¡ x.split(â›â€‰)

â†¨ = ó°²¡ğ‘™â†enumerateâ†x
â­¥ = ó°²¡ğ‘™â†rangeâ†(x Â¿xá¹ğ‘–Â¡ xğŸƒŒ)

â¤ˆ, â¤‰ = (min,max) á´ Æ’â†¦ğš²Æ’(ğ”¸â‚€, key=ğ”¸â‚) Â¿ğ”¸â‚ï¹•âˆ§ğ—™(ğ”¸â‚)Â¡ Æ’(â ¤ğ•£(ğ”¸))
â´µ = sign = ó°²¡1Â¿x>0Â¡xâˆ§Â¯1âˆ¨0
î¬¦ ó·¹„ = ó°²£Â¿ğ•£(ğ”¸)Â¡
â›¶ = ğ‘ğ‘‘(ó°²¡[x], S=ó°²¡{x}, T=ó°²¡(x,))
â–¢ = ğš²round(â ¤ğ•£(ğ”¸))
â€¦ = ó°²£ğ‘™â†range(x,y)
! = ó°²¡ó·¸ºxÎ 1
â«°, â«¯ = ó°²¡+abs(x), ó°²¡Â¯abs(x)

âŠ¢ â¬„Â´(x=â€,y=â€):
    Â¿xâ‰…â€: x,y=y,x
    Â¿xá¹á” âˆ§â† yâ‰…â€ âˆ¨ yá¹á”:
        â†ªx.strip(â ¤ğ•£((y,)))
    âœ—â¨³ î¬¦ ó°¤±
î¬¦ ó°›” = î¬¦ ó°¤±
î¬¦   (á”,á”): á”.replace
î¬¦   (ğ’¾,ğ‘œ):   replace ; ó°›”Ê³
î¬¦ ó°˜¬ = î¬¦ ó°¤±
î¬¦   (ğ’¾, ): spl by falsy
î¬¦   ( ,ğ’¾): spl by falsy (keep sep)
î¬¦   (ğ’¾,Æ’): spl by Æ’
î¬¦   (Æ’,ğ’¾): spl by Æ’ (keep sep)
î¬¦   (á”, ): spl by space
î¬¦   ( ,á”): spl by space (keep sep)
î¬¦   (á”,á”): spl by arg 2
î¬¦   (á”,Æ’): spl by Æ’ join inner strs
î¬¦   (Æ’,á”): spl by Æ’ (keep sep) join inner strs

â—„, â–º = ó°²£x, ó°²£y
âŠ¢ â‹€Â´(ğ‘‹, v=âœ“):
    âˆ€vâˆˆğ‘‹:
        Â¿Â¬v:â†ªv
    â†ªv
âŠ¢ â‹Â´(ğ‘‹, v=âœ—):
    âˆ€vâˆˆğ‘‹:
        Â¿ v:â†ªv
    â†ªv
â˜¾ = â¥Œâ ¤ğ”¸,flush=âœ“â†¦print(â ¤ğ”¸,flush=flush,â ¶ğ•‚)âˆ¨ğ”¸âˆ§ğ”¸â‚€
Î¶ = ğš²zip(â ¤ğ•£(ğ”¸))á´ğ‘™
Î  = ó°²¡Å¿Â´(x,â‹…,â ¤ğ•£(ğ”¸))
Î£ = ó°²¡Å¿Â´(x,+,â ¤ğ•£(ğ”¸))
ó°’¼ = ó°²£sorted(x,key=ğ•(y,â–¡)â‚€)
ó°’½ = ó°²£sorted(x,key=ğ•(y,â–¡)â‚€,reverse=âœ“)

âŠ¢ ó°ˆ²Â´(x=â€, y=â€, s=â€, neg=âœ—):
    Â¿sâ‰…*: s=y
    Â¿neg: y=Â¬â—‹y
    Â¿sâ‰…â€: â†ª ğ‘™â†filter(â–¡Â¿yâ‰…â€Â¡y, x)
    Â¿Â¬ğ—™(s): s=ó°»¾Ë¢
    Â¿yâ‰…â€: â†ª ğ‘™â†filter(â–¡, xá´s)
    â†ª [s(z)Â¿y(z)Â¡z âˆ€zâˆˆx]
ó°ˆ³Â´ = BINWRAP_(ğš²ó°ˆ²Â´(â ¤ğ”¸,â ¶ğ•‚,neg=âœ“))
ó°ˆ²Â´ = BINWRAP_(ó°ˆ²Â´)

âŠ¢ RANGE_(x=â€, y=â€, s=â€, ğ•=â€):
    xâ‰…â€â‰…y â†’Â¬ â¨³â€¹Range missing both values!â€º
    Â¿ğ”°â‰”sâ‰…â€: s=1
    
    v = y Â¿xâ‰…â€Â¡ x Â¿yâ‰…â€Â¡ â€
    Â¿(vâ‰…â€ âˆ§ (xâ‰‡â€âˆ§xá¹ğ‘–) âˆ§ (yâ‰‡â€âˆ§yá¹ğ‘–)) âˆ¨ (vâ‰‡â€âˆ§vá¹ğ‘–):
        Â¿vâ‰‡â€: x, y = 0, v
        Â¿ğ•â‰¡â›ó·¸¹: â†ª [â ¤range(x  ,y  ,s)]
        Â¿ğ•â‰¡â›ó·¸º: â†ª [â ¤range(x+1,y+1,s)]
        Â¿ğ•â‰¡â›ó·¸¸: â†ª [â ¤range(x+1,y  ,s)]
        Â¿ğ•â‰¡â›ó·¸»: â†ª [â ¤range(x  ,y+1,s)]
    Â¿vâ‰‡â€:
        ğ—œ(v) â¨³ ; v=ğ‘™â†v
        Â¿ğ•â‰¡â›ó·¸¸: â†ª (vâ‚€, vâ‚ï¹•ô¨„ï¹•â‚›, vô¨„)
        Â¿ğ”°: s=0
        Â¿ğ•â‰¡â›ó·¸¹: â†ª vâ‚€â‚Šâ‚›
        Â¿ğ•â‰¡â›ó·¸º: â†ª vô¨„â‚‹â‚›
        Â¿ğ•â‰¡â›ó·¸»: â†ª vâ‚€â‚Šâ‚›, vô¨„â‚‹â‚›
    Â¿ğ—œâˆ˜x âˆ§ ğ—œâˆ˜y:
        â†ª [xâ‚•âˆ€hâˆˆyï¹•ï¹•â‚›]
    Â¿ğ—œâˆ˜x âˆ§ yá¹ğ‘–:
        Â¿ğ•â‰¡â›ó·¸¹: â†ª x[   :y  :s]
        Â¿ğ•â‰¡â›ó·¸º: â†ª x[0+1:y+1:s]
        Â¿ğ•â‰¡â›ó·¸¸: â†ª x[0+1:y  :s]
        Â¿ğ•â‰¡â›ó·¸»: â†ª x[   :y+1:s]
    Â¿xá¹ğ‘– âˆ§ ğ—œâˆ˜y:
        Â¿ğ•â‰¡â›ó·¸¹: â†ª y[slice(x  ,ó·°¾,s)]
        Â¿ğ•â‰¡â›ó·¸º: â†ª y[slice(x+1,â–¡,s)]
        Â¿ğ•â‰¡â›ó·¸¸: â†ª y[slice(x+1,ó·°¾,s)]
        Â¿ğ•â‰¡â›ó·¸»: â†ª y[slice(x  ,â–¡,s)]
    âœ—â¨³â€¹Invalid arguments! âŸ¦á¹xâŸ§ âŸ¦á¹yâŸ§â€º
âŠ¢ JOIN_(x=â€, y=â€, s=á¦, ğ•=â€, LR_def=â–¡, bound_mode=â€):
    xâ‰…â€âˆ§â€â‰…y â†’Â¬ â¨³â€¹Join missing both values!â€º
    Â¿xâ‰…â€: x,y = y,x
    Â¿sá¹ğ‘¡:
        Â¿sâ‚€á¹ğ‘–: bound_mode, ğ• = s
        Â¡    : ğ•, bound_mode = s
        ğ•á¹á” âˆ§ bound_modeá¹ğ‘– â¨³ â€¹Bad modifiers!â€º
    â¸˜sá¹ğ‘–:
        s, bound_mode = á¦, s
    Â¿bound_modeâ‰…â€: bound_mode = ğ•â‰¡â›âŸ—âˆ§1âˆ¨0
    Â¿xâ‰…â€:
        x,y = y,x
        ğ—œ(x) â¨³ â€¹Single-arg âŸ¦tâŸ§ needs an iterableâ€º
        â†ª ğ—»â‹…ğ•âˆˆâ›âŸ•â›âŸ—+á¦.join(xá´á”)+â›âŸ—â›âŸ–âˆ‹ğ•â‹…ğ—» â†’ á£†ô‹‚á´¸ô‹‰Ë¢ ğ‘™
    
    Y = y
    Â¿Â¬ğ—™(y): y=ó°»¾Ê¸
    
    R = []
    Â¿xğŸƒŒâ‰¡0 âˆ§ (ğ•â‰ â›â¨ âˆ¨ bound_mode>0):
        v = y(LR_def, LR_def)
        Â¿ğ•âˆˆâ›âŸ•â›âŸ– âˆ¨ bound_modeâ‰¡1: R = [v]
        Â¡                     : R = [v,v]
    Â¡:
        Â¿ğ•âˆˆâ›âŸ•â›âŸ—: R.append(y(LR_def, xâ‚€))
        âˆ€iâˆˆxğŸƒŒó·¸¸ : R.extend([xáµ¢â‚‹â‚, y(xáµ¢â‚‹â‚, xáµ¢)])
        R.append(xô¨„)
        Â¿ğ•âˆˆâ›âŸ–â›âŸ—: R.append(y(xô¨„, LR_def))
    
    â†ª á¦.join(Rá´á”) Â¿â›Lâˆ‰sâˆ§Yá¹á”Â¡ R
ó·¸¹Â´ = BINWRAP_(ğš²RANGE_(â ¤ğ”¸,â ¶ğ•‚,ğ•=â›ó·¸¹))
ó·¸ºÂ´ = BINWRAP_(ğš²RANGE_(â ¤ğ”¸,â ¶ğ•‚,ğ•=â›ó·¸º))
ó·¸¸Â´ = BINWRAP_(ğš²RANGE_(â ¤ğ”¸,â ¶ğ•‚,ğ•=â›ó·¸¸))
ó·¸»Â´ = BINWRAP_(ğš²RANGE_(â ¤ğ”¸,â ¶ğ•‚,ğ•=â›ó·¸»))
â¨Â´ = BINWRAP_(ğš²JOIN_(â ¤ğ”¸,â ¶ğ•‚,ğ•=â›â¨))
âŸ•Â´ = BINWRAP_(ğš²JOIN_(â ¤ğ”¸,â ¶ğ•‚,ğ•=â›âŸ•))
âŸ–Â´ = BINWRAP_(ğš²JOIN_(â ¤ğ”¸,â ¶ğ•‚,ğ•=â›âŸ–))
âŸ—Â´ = BINWRAP_(ğš²JOIN_(â ¤ğ”¸,â ¶ğ•‚,ğ•=â›âŸ—))

î®† = ğ‘ğ‘‘(ğš²â¥ŒI,Æ’=ğ‘â†¦râ‰”{}â†’â—„â†Iá´ó°²¡r.setdefault(hâ‰”Æ’(x),[]).append(x)ó°…‚ó°…‚(â ¤ğ•£(ğ”¸),â ¶ğ•‚),
       S=ğš²î®†Â´(â ¤ğ”¸,â ¶ğ•‚).itemsî®¦ ó°’¼ á´ó°²¡xâ‚,
       B=ğš²hâ‰”{âœ“:[],âœ—:[],â ¶î®†Â´(â ¤ğ”¸,â ¶ğ•‚)}â†’â–ºâ†[hâ‚€,hâ‚])

âŠ¢ î®¦Â´(Æ’,â ¤ğ”¸,â ¶ğ•‚):
    Â¿ğ—™(Æ’): â†ª Æ’(â ¤ğ”¸,â ¶ğ•‚)
    Â¿ğ—œ(Æ’):
        âˆ€xâˆˆÆ’: pass
        â†ª Æ’
    âœ—â¨³â€¹âŸ¦Æ’âŸ§ is not iterable or callable.â€º
âˆ˜ = ó°²£x(y)
â—‹ = ó°²£ğš²x(y(â ¤ğ”¸,â ¶ğ•‚))
Î© ğ‘™ğ‘™(ğ‘™): â–¡
â‹„ = ó°²£(xÂ¿xá¹ğ‘™ğ‘™Â¡xâ‰”ğ‘™ğ‘™((x,))).append(y)â–ºx
â¨ = ó°²£ğ‘(x)â‰¡ğ‘(y) î¬¦ xand
âŠ» = ó°²£ğ‘(x)^ğ‘(y)  âˆ§â†xâˆ¨y î¬¦ xor
âŠ¼ = ó°²£ğ‘(x)âˆ§ğ‘(y)â†’Â¬âˆ§â†xâˆ¨y î¬¦ nand

âŠ¢ â“¦(â ¤ğ”¸, ğ€=â–¡):
    ğ€âˆ¨=[]
    â ¤ğ”¸, Æ’ = ğ”¸
    Â¿Â¬ğ”¸: â†ªÆ’(â ¤ğ€)
    ğ•’, â ¤ğ”¸ = ğ”¸
    with ğ•’ as ğš:
        ğ€.appendâˆ˜ğš
        â†ª â“¦(â ¤ğ”¸, Æ’, ğ€=ğ€)

î¬¦ all this be weird
Î© â„µÂ´(ğ‘‘):
    ğ¶ğ‘› = â›â„µ
    __json__ = â¥Œğ•Š,cb,â ¤ğ“,â ¶ğ“šâ†¦ ğ‘‘(ğ•Š) êŸ¿â±½ ó°²£cb(y,â ¤ğ“,â ¶ğ“š)
    __init__ = ğ•Šâ†¦super().__init__(â ¤ğ”¸,â ¶ğ•‚)
    __setattr__ = ğ‘‘.__setitem__
    __getitem__ = â¥Œğ•Š,xâ†¦ğ‘‘.__getitem__(ğ•Š,x) Â¿xâˆˆğ•ŠÂ¡ ğ•Š.getdef()
    __getattr__ = __getitem__
    __iter__ = ğ•Šâ†¦iter(ğ•Š.items())
    __repr__ = ğ•Šâ†¦â€¹âŸ¦ğ•Š.__class__.ğ¶ğ‘›âŸ§âŸ¦â€¹[âŸ¦hâ‚€âŸ§]â€ºÂ¿0âˆˆ(hâ‰”ğ•Š.__dict__)Â¡á¦âŸ§(âŸ¦â›,ğ˜€â†’.joinâ†ğ•Š.itemsî®¦êŸ¿ó°²£â€¹âŸ¦xâŸ§=âŸ¦yâŸ§â€ºâŸ§)â€º
    __call__ = ğ•Šâ†¦ğ‘‘.update(ğ•Š,â ¤ğ”¸,â ¶ğ•‚)â–ºğ•Š
    __bool__ = ğ•Šâ†¦ğ•ŠğŸƒŒ>0
    __or__   = â¥Œğ•Š,xâ†¦ğ•Š.copy()(x)
    âŠ¢ __getstate__(ğ•Š):
        Â¿ğ•Š.hasdef(): â†ªğ‘‘(ğ•Š), ğ•Š.getdef()
        Â¡          : â†ªğ‘‘(ğ•Š),
    âŠ¢ __setstate__(ğ•Š, s):
        ğ•Š.__init__(sâ‚€)
        Â¿sğŸƒŒ > 1: ğ•Š.setdef(sâ‚)
    âŠ¢ __pow__(ğ•Š, x):
        Â¿xâ‰¡-: â†ªğ‘™âˆ˜ğ•Š.keys   î®¦
        Â¿xâ‰¡+: â†ªğ‘™âˆ˜ğ•Š.values î®¦
        Â¿xâ‰¡*: â†ªğ‘™âˆ˜ğ•Š.items  î®¦
        âœ—â¨³
    hasdef = â¥Œğ•Šâ†¦0âˆˆğ•Š.__dict__
    getdef = â¥Œğ•Š  â†¦ğ•Š.__dict__â‚€
    setdef = â¥Œğ•Š,xâ†¦ğ•Š.__dict__â‚€â‰”x â†’â–º ğ•Š
    âŠ¢ copy(ğ•Š):
        r = type(ğ•Š)(super().copy())
        Â¿ğ•Š.hasdef(): r.setdef(ğ•Š.getdef())
        â†ª r
Î© â„¶(â„µÂ´):
    ğ¶ğ‘› = â›â„¶
    __iter__ = ğ•Šâ†¦iter(ğ•Š.values())
Î© _hwrap(ğ‘‘):
    âŠ¢ __init__(ğ•Š, ğ‘):
        ğ•Šô‹‡‘, ğ•Šô‹‡› = ğ‘, ğ‘ô‹†·ô‹‡›
    __getitem__ = â¥Œğ•Š,xâ†¦ğ•Šô‹‡‘().setdef(x)
    __setitem__ = â¥Œğ•Š,x,yâ†¦(â’¯â‰”ğ•Šô‹‡‘()).__setitem__(x,y) â†’â–ºâ† â’¯
    __call__ = ğ•Šâ†¦ğ•Šô‹‡‘(â ¤ğ”¸,â ¶ğ•‚)
    __or__   = â¥Œğ•Š,xâ†¦ğ•Šô‹‡‘()|x
    __pow__  = â¥Œğ•Š,xâ†¦ğ•Šô‹‡‘()âŒƒx
    __repr__ = ğ•Šâ†¦â€¹âŸ¦ğ•Šô‹‡›âŸ§()â€º
    __bool__ = ğš²âœ—
â„µÂ´ = _hwrap(â„µÂ´)
â„¶  = _hwrap(â„¶ )

î¬¦ dbg_wrap = ğ‘“â†¦ğš²â˜¾Â´(â€¹âŸ¦ğ‘“.__name__âŸ§: ğ”¸=âŸ¦ğ”¸âŸ§, ğ•‚=âŸ¦ğ•‚âŸ§ â†“â€º) â–º ğ‘“(â ¤ğ”¸,â ¶ğ•‚)â˜¾

âŠ¢ ğ”¦ğ”ªğ”­(x):
    match x:
        case â›s: î¬¦ system stuff
            â¨¡ os, sys, shutil, subprocess
            â®Œ pathlib â¨¡ Path as ğ©
            â®Œ subprocess â¨¡ Popen as ğ«
            â®Œ time â¨¡ time, sleep
            
            i=0
            â°i+=1:
                G = sys._getframe(i).f_globals
                Â¿G["__file__"]â‰ __file__: â‡¥
            G[â›ğ©â¥‰PEV] = ğ©
            G[â›ğ«â¥‰PEV] = ğ«
            G[hâ‰”PEV("ğ©ğ")] = ğš²G["__file__"] â¥‰ğ©â†’.parent
            G["subprocess"] = subprocess
            G["os"], G["sys"], G["shutil"] = os, sys, shutil
            G["time"], G["sleep"] = time, sleep
            G["ldir"] = ğš²os.chdirâ†Gâ‚•î®¦

âŠ¢ ó± ¨(c, â ¤ğ”¸, get_ns=âœ—, ns=â–¡, fname=â–¡,
    interactive_ğ•‚=â–¡, no_isolate=âœ—,
    no_isolate_Æ’=ó°²¡exec(x,globals()), â ¶ğ•‚): î¬¦ ó± ¨(x, return_code=âœ“)
    
    â®Œ refresher â¨¡ basic_cpy_interactive_session
    cpy = basic_cpy_interactive_session(
        print_output=âœ“, ns=ns, fname="cpy_ó± ¨" Â¿fnameâ‰…â–¡Â¡ fname,
        header_carry=__header_namespace__,
        â ¶interactive_ğ•‚âˆ¨{})
    Â¿no_isolate: # absolutely beaned
        Â¬get_ns âˆ§ nsâ‰…â–¡ âˆ§ fnameâ‰…â–¡ â¨³
        c = cpy(c, â ¤ğ”¸, return_code=âœ“, â ¶ğ•‚)â˜¾
        â†ª no_isolate_Æ’(c)
    r = cpy(c, â ¤ğ”¸, â ¶ğ•‚)
    â†ª cpyâ¿Ë¢ Â¿get_nsÂ¡ r

î¬¦ ğ”¸âˆ‹* âŸ¶ merge all (public) module contents with globals
î¬¦ ğ”¸âˆ‹- âŸ¶ don't set module itself as global (automatic w/ !)
î¬¦ ğ”¸âˆ‹! âŸ¶ store the object with module name into globals instead of module
î¬¦ g âŸ¶ store anything into globals
î¬¦ store_code âŸ¶ m.__cpy_code__ is the source code
âŠ¢ ó°‹º(ğ”£, â ¤ğ”¸, g=âœ“, store_code=âœ“, just_get_path=âœ—, just_get_code=âœ—):
    Â¬(just_get_path âˆ§ just_get_code) â¨³ î¬¦ ó°¤± return a tuple if both
    â®Œ sys â¨¡ path as P, _getframe as GF
    â®Œ os â¨¡ path, listdir
    â®Œ pathlib â¨¡ Path as ğ©
    f, drs = â–¡, (â›., â ¤P) á´ó°²¡ğ©â†xâ†’.resolve()ó°…‚ ó°ˆ²ó°²¡x.is_dir()
    âˆ€pâˆˆdrs:
        Â¿f â‰” â‹ â† á¦â‹„".â˜¾" á´ ó°²¡zâ‰”p/â€¹âŸ¦ğ”£âŸ§âŸ¦xâŸ§â€ºâ†’.is_file() âˆ§ zó°…‚: â‡¥
    f â¨³ â€¹Can't find "âŸ¦ğ”£âŸ§" in [âŸ¦", ".join(drsá´ó°²¡â€¹"âŸ¦xâŸ§"â€º)âŸ§]!â€º
    Â¿just_get_path: â†ªf
    with f.open() as ğŸ: code = ğŸ.read()
    Â¿just_get_code: â†ª code
    nam = PEV(na â‰” f.stem)
    m = â„µ(â ¶ó± ¨(â›î®+code, get_ns=âœ“, cap_stdout=âœ—, ns={"__name__": nam}, fname=á”â†f))
    ğ‘˜ = (m.keysî®¦ó°ˆ³ó°²¡xâ‚€â‰¡â›_) Â¿*âˆˆğ”¸Â¡ ğ‘™(ğ”¸ âˆ– {!})
    ğ‘˜ += exports â‰” (ğ‘™(m.__exports__) Â¿"__exports__"âˆˆm.keysî®¦Â¡ [])
    Â¿store_code: mô‹•Ÿô‹•Ÿá¶œáµ–Ê¸ô‹•Ÿá¶œáµ’áµˆáµ‰ô‹•Ÿô‹•Ÿ = code
    Â¿g:
        G = GF(1).f_globals
        âˆ€kâˆˆğ‘˜á´PEV: Gâ‚– = mâ‚–
        Â¿-âˆ‰ğ”¸ âˆ§ !âˆ‰ğ”¸ âˆ§ naâˆ‰ğ‘˜:
            Gâ‚™â‚â‚˜ = m
    Â¿!âˆˆğ”¸:
        namâˆˆm â¨³ â€¹Can't find "âŸ¦namâŸ§" inside module "âŸ¦f.stemâŸ§"!â€º
    â†ª m

â„³â„±_cache = {}
âŠ¢ â„³â„±(load):
    âŠ¢ Æ’(â ¤ğ”¸,â ¶ğ•‚):
        Â¿â„³â„±_cacheâˆ‹ğ“²â‰”id(load):
            ğ‘“ = â„³â„±_cacheô‹œ†
        Â¡:
            ğ‘“ = â„³â„±_cacheô‹œ† = loadî®¦
        â†ª ğ‘“(â ¤ğ”¸,â ¶ğ•‚)
    â†ª Æ’
SUBPROCA = â„³â„±(ğš²ó°‹º(â€¹subprocaâ€º).SUBPROCA)

â®Œ random â¨¡ shuffle, choice, uniform, randint
Î© Rand:
    __slots__ = â›t,
    __init__ = â¥Œğ•Š,tâ†¦ğ•Šáµ—â‰”t â†’â–º â–¡
    __getitem__ = â¥Œğ•Š,nâ†¦â¥Œâ ¤ğ“,â ¶ğ“šâ†¦nâ­¥á´ğš²ğ•Š(â ¤ğ“,â ¶ğ“š)
    âŠ¢ __call__(ğ•Š, x=â€, y=â€):
        Â¿ğ•Šáµ—â‰¡â›ï´:
            Â¿ğ—œ(x) âˆ¨ ğ—œ(y):
                ğ’¾, n = (x,y) Â¿ğ—œ(x)Â¡ (y,x)
                Â¿nâ‰…â€: â†ªshuffle(ğ•©â‰”ğ‘™âˆ˜ğ’¾) â–º ğ•©
                â†ª nâ­¥á´ğš²choice(ğ’¾)
            âœ—â¨³
        Â¿â€â‰…xâˆ§yâ‰…â€: â†ªuniform(â ¤âˆ“1Â¿ğ•Šáµ—â‰¡â›î‰°Â¡0â‹„1)
        Æ’ = uniform Â¿ğ•Šáµ—â‰¡â›î‰°Â¡ randint
        Â¿â€â‰‡xâˆ§yâ‰‡â€: â†ªÆ’(x,y)
        Â¿ğ—œ(ğ•©â‰”ğ•£(xâ‹„y)â‚€): â†ªÆ’(â ¤ğ•©)
        Â¡            : â†ªÆ’(0,ğ•©)
        â¨³âœ—
î‰°Â´,ó±…Â´,ï´Â´ = â€¹î‰°ó±…ï´â€ºá´Rand

__error_printer__ = â„³â„±(ğš²ó°‹º("highlighter").__error_printer__)
__highlighter__   = â„³â„±(ğš²ó°‹º("highlighter").__highlighter__  )
__builtins__[tâ‰”"__error_printer__"] = __error_printer__
__builtins__[tâ‰”"__highlighter__"  ] = __highlighter__