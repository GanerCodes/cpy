ó±€˜ï”:
    âŠ¢__init__(ğ•Š,n,l=â€,w=0,c=â€):
        ğ•Šâ¿=n
        ğ•ŠË¡=l
        ğ•ŠÊ·=w
        ğ•Šá¶œ=câ‰…â€â­œ[]â­c
    âŠ¢deg(ğ•Š): â†ªğŸƒŒc
    âŠ¢__eq__(ğ•Š,x): â†ªxâ‰‡â–¡âˆ§ğ•Šâ¿â‰¡xâ¿
    âŠ¢__hash__(ğ•Š): â†ªhash(n)

ó±€˜ó°¡·:
    âŠ¢__init__(ğ•Š,v=â€,e=â€,s=â€,g=â€,adj=[1,ó·°¾,Ã®,ó·±ª],di=âœ—,rule=â€):
        ğ•Šáµ›=[]
        ğ•Šáµˆâ±=di
        Â¿vâ‰…â€: v=[]
        Â¿vá¹ğ—œ:
            âˆ€iâˆˆv:
                ğ•Šáµ›.append(ï”(i))
        Â¡:
            ğ•Šáµ›=[ï”(v)]
        Â¿eâ‰‡â€:
            Â¿ruleâ‰…â€: rule=â´´
            âˆ€pâˆˆeâ¨[]:
                Â¿pâˆ‰(ğ•Šáµ›áµâ¿): ğ•Šáµ›.append(p)
            âˆ€fâˆˆe:
                g=[ğ•Š.get(fâ‚€),ğ•Š.get(fâ‚)]
                Â¿gâ‚âˆ‰gâ‚€á¶œ: gâ‚€á¶œ.append(gâ‚)
            âˆ€pâˆˆğ•Šáµ›â¨‰Â²:
                Â¿rule(â ¤p)âˆ§pâ‚âˆ‰pâ‚€á¶œ:
                    pâ‚€á¶œ.append(pâ‚)
        â¸˜sâ‰‡â€âˆ¨gâ‰‡â€:
            Â¿   sâ‰‡â€: g   =só·¹ğ—»á´ğ‘™
            Â¿ruleâ‰…â€: rule=â´³
            âˆ€jâˆˆgâ­¥:
                âˆ€iâˆˆgâ±¼â­¥:
                    ğ•Šáµ›.append(ï”((i,j),gâ±¼ áµ¢))
            âˆ€nâˆˆğ•Šáµ›:
                âˆ€dâˆˆadj:
                    m=ğ•Š.get((nâ¿â‚€+ó·¸›d,nâ¿â‚+ó·¸šd))
                    Â¿mâ‰‡â–¡âˆ§rule(n,m): ná¶œ.append(m)
        Â¿di: â†ª
        âˆ€pâˆˆğ•Šáµ›:
            âˆ€qâˆˆpá¶œ:
                Â¿pâˆ‰qá¶œ: qá¶œ.append(p)
    âŠ¢get(ğ•Š,n):
        âˆ€mâˆˆğ•Šáµ›:
            Â¿nâ‰¡mâ¿:
                â†ªm
        â†ªâ–¡

î¬¦ â§ˆ
t=30
g=ó°¡·(s=(â€¹abâ€ºâ‹…2â‹…t+ğ—»+â€¹baâ€ºâ‹…2â‹…t+ğ—»)â‹…2â‹…t+â€¹abaaâ€ºâ‹…t,rule=ó°²£xË¡â‰¡yË¡)
î¬¦ â˜¾(gáµ›â¨‰Â²â†’ó°ˆ²ó°²¡xâ‚âˆˆxâ‚€á¶œó°…‚á´Â²ó°²¡xâ¿)